"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _react = require("react");
var _isShallowEqual = _interopRequireDefault(require("@wordpress/is-shallow-equal"));
var _element = require("@wordpress/element");
var _createHigherOrderComponent = require("../../utils/create-higher-order-component");
/**
 * External dependencies
 */

/**
 * WordPress dependencies
 */

/**
 * Internal dependencies
 */

/**
 * Given a component returns the enhanced component augmented with a component
 * only re-rendering when its props/state change
 *
 * @deprecated Use `memo` or `PureComponent` instead.
 */
const pure = (0, _createHigherOrderComponent.createHigherOrderComponent)(function (WrappedComponent) {
  if (WrappedComponent.prototype instanceof _element.Component) {
    return class extends WrappedComponent {
      shouldComponentUpdate(nextProps, nextState) {
        return !(0, _isShallowEqual.default)(nextProps, this.props) || !(0, _isShallowEqual.default)(nextState, this.state);
      }
    };
  }
  return class extends _element.Component {
    shouldComponentUpdate(nextProps) {
      return !(0, _isShallowEqual.default)(nextProps, this.props);
    }
    render() {
      return (0, _react.createElement)(WrappedComponent, {
        ...this.props
      });
    }
  };
}, 'pure');
var _default = exports.default = pure;
//# sourceMappingURL=index.js.map