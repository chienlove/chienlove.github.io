{"version":3,"sources":["@wordpress/components/src/toggle-group-control/toggle-group-control/as-radio-group.tsx"],"names":["RadioGroup","useRadioState","useMergeRefs","useInstanceId","usePrevious","useResizeObserver","forwardRef","useRef","View","ToggleGroupControlBackdrop","ToggleGroupControlContext","useUpdateEffect","UnforwardedToggleGroupControlAsRadioGroup","forwardedRef","children","isAdaptiveWidth","label","onChange","size","value","otherProps","containerRef","resizeListener","sizes","baseId","ToggleGroupControlAsRadioGroup","toString","radio","state","previousValue","setState","isBlock","width"],"mappings":";;;AAAA;AACA;AACA;AAEA;AACA,SAASA,UAAT,EAAqBC,aAArB,QAA0C,QAA1C;AAEA;AACA;AACA;;AACA,SACCC,YADD,EAECC,aAFD,EAGCC,WAHD,EAICC,iBAJD,QAKO,oBALP;AAMA,SAASC,UAAT,EAAqBC,MAArB,QAAmC,oBAAnC;AAEA;AACA;AACA;;AACA,SAASC,IAAT,QAAqB,YAArB;AACA,OAAOC,0BAAP,MAAuC,iCAAvC;AACA,OAAOC,yBAAP,MAAsC,YAAtC;AACA,SAASC,eAAT,QAAgC,mBAAhC;;AAIA,SAASC,yCAAT,OAcCC,YAdD,EAeE;AAAA,MAdD;AACCC,IAAAA,QADD;AAECC,IAAAA,eAFD;AAGCC,IAAAA,KAHD;AAICC,IAAAA,QAJD;AAKCC,IAAAA,IALD;AAMCC,IAAAA,KAND;AAOC,OAAGC;AAPJ,GAcC;AACD,QAAMC,YAAY,GAAGd,MAAM,EAA3B;AACA,QAAM,CAAEe,cAAF,EAAkBC,KAAlB,IAA4BlB,iBAAiB,EAAnD;AACA,QAAMmB,MAAM,GAAGrB,aAAa,CAC3BsB,8BAD2B,EAE3B,qCAF2B,CAAb,CAGbC,QAHa,EAAf;AAIA,QAAMC,KAAK,GAAG1B,aAAa,CAAE;AAC5BuB,IAAAA,MAD4B;AAE5BI,IAAAA,KAAK,EAAET;AAFqB,GAAF,CAA3B;AAIA,QAAMU,aAAa,GAAGzB,WAAW,CAAEe,KAAF,CAAjC,CAXC,CAaD;;AACAR,EAAAA,eAAe,CAAE,MAAM;AACtB;AACA;AACA,QAAKkB,aAAa,KAAKF,KAAK,CAACC,KAA7B,EAAqC;AACpCX,MAAAA,QAAQ,CAAEU,KAAK,CAACC,KAAR,CAAR;AACA;AACD,GANc,EAMZ,CAAED,KAAK,CAACC,KAAR,CANY,CAAf,CAdC,CAsBD;;AACAjB,EAAAA,eAAe,CAAE,MAAM;AACtB,QAAKQ,KAAK,KAAKQ,KAAK,CAACC,KAArB,EAA6B;AAC5BD,MAAAA,KAAK,CAACG,QAAN,CAAgBX,KAAhB;AACA;AACD,GAJc,EAIZ,CAAEA,KAAF,CAJY,CAAf;AAMA,SACC,cAAC,yBAAD,CAA2B,QAA3B;AACC,IAAA,KAAK,EAAG,EAAE,GAAGQ,KAAL;AAAYI,MAAAA,OAAO,EAAE,CAAEhB,eAAvB;AAAwCG,MAAAA;AAAxC;AADT,KAGC,cAAC,UAAD,eACMS,KADN;AAEC,kBAAaX,KAFd;AAGC,IAAA,EAAE,EAAGR;AAHN,KAIMY,UAJN;AAKC,IAAA,GAAG,EAAGlB,YAAY,CAAE,CAAEmB,YAAF,EAAgBR,YAAhB,CAAF;AALnB,MAOGS,cAPH,EAQC,cAAC,0BAAD;AACC,IAAA,KAAK,EAAGK,KAAK,CAACC,KADf;AAEC,IAAA,YAAY,EAAGP,YAFhB;AAGC,IAAA,cAAc,EAAGE,KAAK,CAACS,KAHxB;AAIC,IAAA,eAAe,EAAGjB;AAJnB,IARD,EAcGD,QAdH,CAHD,CADD;AAsBA;;AAED,OAAO,MAAMW,8BAA8B,GAAGnB,UAAU,CACvDM,yCADuD,CAAjD","sourcesContent":["/**\n * External dependencies\n */\nimport type { ForwardedRef } from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport { RadioGroup, useRadioState } from 'reakit';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseMergeRefs,\n\tuseInstanceId,\n\tusePrevious,\n\tuseResizeObserver,\n} from '@wordpress/compose';\nimport { forwardRef, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { View } from '../../view';\nimport ToggleGroupControlBackdrop from './toggle-group-control-backdrop';\nimport ToggleGroupControlContext from '../context';\nimport { useUpdateEffect } from '../../utils/hooks';\nimport type { WordPressComponentProps } from '../../ui/context';\nimport type { ToggleGroupControlMainControlProps } from '../types';\n\nfunction UnforwardedToggleGroupControlAsRadioGroup(\n\t{\n\t\tchildren,\n\t\tisAdaptiveWidth,\n\t\tlabel,\n\t\tonChange,\n\t\tsize,\n\t\tvalue,\n\t\t...otherProps\n\t}: WordPressComponentProps<\n\t\tToggleGroupControlMainControlProps,\n\t\t'div',\n\t\tfalse\n\t>,\n\tforwardedRef: ForwardedRef< HTMLDivElement >\n) {\n\tconst containerRef = useRef();\n\tconst [ resizeListener, sizes ] = useResizeObserver();\n\tconst baseId = useInstanceId(\n\t\tToggleGroupControlAsRadioGroup,\n\t\t'toggle-group-control-as-radio-group'\n\t).toString();\n\tconst radio = useRadioState( {\n\t\tbaseId,\n\t\tstate: value,\n\t} );\n\tconst previousValue = usePrevious( value );\n\n\t// Propagate radio.state change.\n\tuseUpdateEffect( () => {\n\t\t// Avoid calling onChange if radio state changed\n\t\t// from incoming value.\n\t\tif ( previousValue !== radio.state ) {\n\t\t\tonChange( radio.state );\n\t\t}\n\t}, [ radio.state ] );\n\n\t// Sync incoming value with radio.state.\n\tuseUpdateEffect( () => {\n\t\tif ( value !== radio.state ) {\n\t\t\tradio.setState( value );\n\t\t}\n\t}, [ value ] );\n\n\treturn (\n\t\t<ToggleGroupControlContext.Provider\n\t\t\tvalue={ { ...radio, isBlock: ! isAdaptiveWidth, size } }\n\t\t>\n\t\t\t<RadioGroup\n\t\t\t\t{ ...radio }\n\t\t\t\taria-label={ label }\n\t\t\t\tas={ View }\n\t\t\t\t{ ...otherProps }\n\t\t\t\tref={ useMergeRefs( [ containerRef, forwardedRef ] ) }\n\t\t\t>\n\t\t\t\t{ resizeListener }\n\t\t\t\t<ToggleGroupControlBackdrop\n\t\t\t\t\tstate={ radio.state }\n\t\t\t\t\tcontainerRef={ containerRef }\n\t\t\t\t\tcontainerWidth={ sizes.width }\n\t\t\t\t\tisAdaptiveWidth={ isAdaptiveWidth }\n\t\t\t\t/>\n\t\t\t\t{ children }\n\t\t\t</RadioGroup>\n\t\t</ToggleGroupControlContext.Provider>\n\t);\n}\n\nexport const ToggleGroupControlAsRadioGroup = forwardRef(\n\tUnforwardedToggleGroupControlAsRadioGroup\n);\n"]}