{"version":3,"sources":["@wordpress/components/src/search-control/index.tsx"],"names":["classnames","useInstanceId","useMergeRefs","__","Icon","search","closeSmall","forwardRef","useRef","Button","BaseControl","UnforwardedSearchControl","forwardedRef","__nextHasNoMarginBottom","className","onChange","onKeyDown","value","label","placeholder","hideLabelFromVision","help","onClose","restProps","searchRef","instanceId","SearchControl","id","renderRightButton","current","focus","event","target"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId, useMergeRefs } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { Icon, search, closeSmall } from '@wordpress/icons';\nimport { forwardRef, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport BaseControl from '../base-control';\nimport type { WordPressComponentProps } from '../ui/context/wordpress-component';\nimport type { SearchControlProps } from './types';\nimport type { ForwardedRef } from 'react';\n\nfunction UnforwardedSearchControl(\n\t{\n\t\t__nextHasNoMarginBottom,\n\t\tclassName,\n\t\tonChange,\n\t\tonKeyDown,\n\t\tvalue,\n\t\tlabel,\n\t\tplaceholder = __( 'Search' ),\n\t\thideLabelFromVision = true,\n\t\thelp,\n\t\tonClose,\n\t\t...restProps\n\t}: WordPressComponentProps< SearchControlProps, 'input', false >,\n\tforwardedRef: ForwardedRef< HTMLInputElement >\n) {\n\tconst searchRef = useRef< HTMLInputElement >();\n\tconst instanceId = useInstanceId( SearchControl );\n\tconst id = `components-search-control-${ instanceId }`;\n\n\tconst renderRightButton = () => {\n\t\tif ( onClose ) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close search' ) }\n\t\t\t\t\tonClick={ onClose }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tif ( !! value ) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Reset search' ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( '' );\n\t\t\t\t\t\tsearchRef.current?.focus();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn <Icon icon={ search } />;\n\t};\n\n\treturn (\n\t\t<BaseControl\n\t\t\t__nextHasNoMarginBottom={ __nextHasNoMarginBottom }\n\t\t\tlabel={ label }\n\t\t\tid={ id }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\thelp={ help }\n\t\t\tclassName={ classnames( className, 'components-search-control' ) }\n\t\t>\n\t\t\t<div className=\"components-search-control__input-wrapper\">\n\t\t\t\t<input\n\t\t\t\t\t{ ...restProps }\n\t\t\t\t\tref={ useMergeRefs( [ searchRef, forwardedRef ] ) }\n\t\t\t\t\tclassName=\"components-search-control__input\"\n\t\t\t\t\tid={ id }\n\t\t\t\t\ttype=\"search\"\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\tonChange={ ( event ) => onChange( event.target.value ) }\n\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t/>\n\t\t\t\t<div className=\"components-search-control__icon\">\n\t\t\t\t\t{ renderRightButton() }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BaseControl>\n\t);\n}\n\n/**\n * SearchControl components let users display a search control.\n *\n * ```jsx\n * import { SearchControl } from '@wordpress/components';\n * import { useState } from '@wordpress/element';\n *\n * function MySearchControl( { className, setState } ) {\n *   const [ searchInput, setSearchInput ] = useState( '' );\n *\n *   return (\n *     <SearchControl\n *       value={ searchInput }\n *       onChange={ setSearchInput }\n *     />\n *   );\n * }\n * ```\n */\nexport const SearchControl = forwardRef( UnforwardedSearchControl );\n\nexport default SearchControl;\n"]}