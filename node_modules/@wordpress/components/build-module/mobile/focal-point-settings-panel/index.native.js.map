{"version":3,"sources":["@wordpress/components/src/mobile/focal-point-settings-panel/index.native.js"],"names":["SafeAreaView","useRoute","useNavigation","__","memo","useContext","useState","useCallback","BottomSheetContext","FocalPointPicker","NavBar","styles","FocalPointSettingsPanelMemo","focalPoint","onFocalPointChange","shouldEnableBottomSheetScroll","url","navigation","onButtonPress","action","goBack","draftFocalPoint","setDraftFocalPoint","setPosition","coordinates","prevState","safearea","FocalPointSettingsPanel","props","route","params"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,YAAT,QAA6B,cAA7B;AACA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,0BAAxC;AAEA;AACA;AACA;;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,WAArC,QAAwD,oBAAxD;AACA,SAASC,kBAAT,EAA6BC,gBAA7B,QAAqD,uBAArD;AAEA;AACA;AACA;;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AAEA,MAAMC,2BAA2B,GAAGR,IAAI,CACvC,QAKO;AAAA,MALL;AACDS,IAAAA,UADC;AAEDC,IAAAA,kBAFC;AAGDC,IAAAA,6BAHC;AAIDC,IAAAA;AAJC,GAKK;AACN,QAAMC,UAAU,GAAGf,aAAa,EAAhC;;AAEA,WAASgB,aAAT,CAAwBC,MAAxB,EAAiC;AAChCF,IAAAA,UAAU,CAACG,MAAX;;AACA,QAAKD,MAAM,KAAK,OAAhB,EAA0B;AACzBL,MAAAA,kBAAkB,CAAEO,eAAF,CAAlB;AACA;AACD;;AAED,QAAM,CAAEA,eAAF,EAAmBC,kBAAnB,IAA0ChB,QAAQ,CAAEO,UAAF,CAAxD;;AACA,WAASU,WAAT,CAAsBC,WAAtB,EAAoC;AACnCF,IAAAA,kBAAkB,CAAIG,SAAF,KAAmB,EACtC,GAAGA,SADmC;AAEtC,SAAGD;AAFmC,KAAnB,CAAF,CAAlB;AAIA;;AAED,SACC,cAAC,YAAD;AAAc,IAAA,KAAK,EAAGb,MAAM,CAACe;AAA7B,KACC,cAAC,MAAD,QACC,cAAC,MAAD,CAAQ,aAAR;AACC,IAAA,OAAO,EAAG,MAAMR,aAAa,CAAE,QAAF;AAD9B,IADD,EAIC,cAAC,MAAD,CAAQ,OAAR,QACGf,EAAE,CAAE,kBAAF,CADL,CAJD,EAOC,cAAC,MAAD,CAAQ,WAAR;AACC,IAAA,OAAO,EAAG,MAAMe,aAAa,CAAE,OAAF;AAD9B,IAPD,CADD,EAYC,cAAC,gBAAD;AACC,IAAA,UAAU,EAAGG,eADd;AAEC,IAAA,QAAQ,EAAGd,WAAW,CAAEgB,WAAF,EAAe,EAAf,CAFvB;AAGC,IAAA,6BAA6B,EAC5BR,6BAJF;AAMC,IAAA,GAAG,EAAGC;AANP,IAZD,CADD;AAuBA,CA/CsC,CAAxC;;AAkDA,SAASW,uBAAT,CAAkCC,KAAlC,EAA0C;AACzC,QAAMC,KAAK,GAAG5B,QAAQ,EAAtB;AACA,QAAM;AAAEc,IAAAA;AAAF,MAAoCV,UAAU,CAAEG,kBAAF,CAApD;AAEA,SACC,cAAC,2BAAD;AACC,IAAA,6BAA6B,EAAGO;AADjC,KAEMa,KAFN,EAGMC,KAAK,CAACC,MAHZ,EADD;AAOA;;AAED,eAAeH,uBAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { SafeAreaView } from 'react-native';\nimport { useRoute, useNavigation } from '@react-navigation/native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { memo, useContext, useState, useCallback } from '@wordpress/element';\nimport { BottomSheetContext, FocalPointPicker } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport NavBar from '../bottom-sheet/nav-bar';\nimport styles from './styles.scss';\n\nconst FocalPointSettingsPanelMemo = memo(\n\t( {\n\t\tfocalPoint,\n\t\tonFocalPointChange,\n\t\tshouldEnableBottomSheetScroll,\n\t\turl,\n\t} ) => {\n\t\tconst navigation = useNavigation();\n\n\t\tfunction onButtonPress( action ) {\n\t\t\tnavigation.goBack();\n\t\t\tif ( action === 'apply' ) {\n\t\t\t\tonFocalPointChange( draftFocalPoint );\n\t\t\t}\n\t\t}\n\n\t\tconst [ draftFocalPoint, setDraftFocalPoint ] = useState( focalPoint );\n\t\tfunction setPosition( coordinates ) {\n\t\t\tsetDraftFocalPoint( ( prevState ) => ( {\n\t\t\t\t...prevState,\n\t\t\t\t...coordinates,\n\t\t\t} ) );\n\t\t}\n\n\t\treturn (\n\t\t\t<SafeAreaView style={ styles.safearea }>\n\t\t\t\t<NavBar>\n\t\t\t\t\t<NavBar.DismissButton\n\t\t\t\t\t\tonPress={ () => onButtonPress( 'cancel' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<NavBar.Heading>\n\t\t\t\t\t\t{ __( 'Edit focal point' ) }\n\t\t\t\t\t</NavBar.Heading>\n\t\t\t\t\t<NavBar.ApplyButton\n\t\t\t\t\t\tonPress={ () => onButtonPress( 'apply' ) }\n\t\t\t\t\t/>\n\t\t\t\t</NavBar>\n\t\t\t\t<FocalPointPicker\n\t\t\t\t\tfocalPoint={ draftFocalPoint }\n\t\t\t\t\tonChange={ useCallback( setPosition, [] ) }\n\t\t\t\t\tshouldEnableBottomSheetScroll={\n\t\t\t\t\t\tshouldEnableBottomSheetScroll\n\t\t\t\t\t}\n\t\t\t\t\turl={ url }\n\t\t\t\t/>\n\t\t\t</SafeAreaView>\n\t\t);\n\t}\n);\n\nfunction FocalPointSettingsPanel( props ) {\n\tconst route = useRoute();\n\tconst { shouldEnableBottomSheetScroll } = useContext( BottomSheetContext );\n\n\treturn (\n\t\t<FocalPointSettingsPanelMemo\n\t\t\tshouldEnableBottomSheetScroll={ shouldEnableBottomSheetScroll }\n\t\t\t{ ...props }\n\t\t\t{ ...route.params }\n\t\t/>\n\t);\n}\n\nexport default FocalPointSettingsPanel;\n"]}