{"version":3,"sources":["@wordpress/components/src/mobile/bottom-sheet/index.native.js"],"names":["Dimensions","Keyboard","LayoutAnimation","PanResponder","Platform","ScrollView","StatusBar","Text","TouchableHighlight","View","Modal","SafeArea","subscribeAndroidModalClosed","Component","withPreferredColorScheme","styles","Button","Cell","CyclePickerCell","PickerCell","SwitchCell","RangeCell","ColorCell","LinkCell","LinkSuggestionItemCell","RadioCell","NavigationScreen","NavigationContainer","KeyboardAvoidingView","BottomSheetSubSheet","NavBar","BottomSheetProvider","DEFAULT_LAYOUT_ANIMATION","Presets","easeInEaseOut","BottomSheet","constructor","arguments","onSafeAreaInsetsUpdate","bind","onScroll","isScrolling","onShouldEnableScroll","onDismiss","onShouldSetBottomSheetMaxHeight","setIsFullScreen","onDimensionsChange","onHeaderLayout","onCloseBottomSheet","onHandleClosingBottomSheet","onHardwareButtonPress","onHandleHardwareButtonPress","keyboardShow","keyboardHide","headerHeight","keyboardHeight","lastLayoutAnimation","lastLayoutAnimationFinished","state","safeAreaBottomInset","safeAreaTopInset","bounces","maxHeight","scrollEnabled","handleClosingBottomSheet","handleHardwareButtonPress","isMaxHeightSet","isFullScreen","props","e","isVisible","height","endCoordinates","performKeyboardLayoutAnimation","onSetMaxHeight","onKeyboardShow","onKeyboardHide","event","duration","easing","animationConfig","type","Types","layoutAnimation","update","create","property","Properties","opacity","delete","configureNext","performRegularLayoutAnimation","useLastLayoutAnimation","OS","componentDidMount","getSafeAreaInsetsForRootView","then","androidModalClosedSubscription","onClose","dimensionsChangeSubscription","addEventListener","keyboardShowListener","addListener","keyboardHideListener","safeAreaEventSubscription","componentWillUnmount","remove","result","safeAreaInsets","bottom","top","setState","width","get","statusBarHeight","currentHeight","maxHeightWithOpenKeyboard","Math","min","nativeEvent","layout","round","isCloseToBottom","layoutMeasurement","contentOffset","contentSize","y","isCloseToTop","value","action","getContentStyle","paddingBottom","scrollableContent","render","title","leftButton","rightButton","header","hideHeader","style","contentStyle","getStylesFromColorScheme","children","withHeaderSeparator","hasNavigation","rest","panResponder","onMoveShouldSetPanResponder","evt","gestureState","dy","backgroundStyle","background","backgroundDark","bottomSheetHeaderTitleStyle","bottomSheetHeaderTitle","bottomSheetHeaderTitleDark","listStyle","flexGrow","flexShrink","setMinHeightToMaxHeight","minHeight","listProps","disableScrollViewPanResponder","onScrollBeginDrag","onScrollEndDrag","scrollEventThrottle","contentContainerStyle","content","emptyHeader","automaticallyAdjustContentInsets","WrapperView","getHeader","bottomSheetHeader","flex","separator","showDragIndicator","allowDragIndicator","bottomModal","undefined","panHandlers","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","borderColor","marginTop","backgroundFullScreen","testID","dragIndicator","shouldEnableBottomSheetScroll","shouldEnableBottomSheetMaxHeight","isBottomSheetContentScrolling","getWidth","maxWidth","ThemedBottomSheet","SubSheet"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tDimensions,\n\tKeyboard,\n\tLayoutAnimation,\n\tPanResponder,\n\tPlatform,\n\tScrollView,\n\tStatusBar,\n\tText,\n\tTouchableHighlight,\n\tView,\n} from 'react-native';\nimport Modal from 'react-native-modal';\nimport SafeArea from 'react-native-safe-area';\n\n/**\n * WordPress dependencies\n */\nimport { subscribeAndroidModalClosed } from '@wordpress/react-native-bridge';\nimport { Component } from '@wordpress/element';\nimport { withPreferredColorScheme } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\nimport Button from './button';\nimport Cell from './cell';\nimport CyclePickerCell from './cycle-picker-cell';\nimport PickerCell from './picker-cell';\nimport SwitchCell from './switch-cell';\nimport RangeCell from './range-cell';\nimport ColorCell from './color-cell';\nimport LinkCell from './link-cell';\nimport LinkSuggestionItemCell from './link-suggestion-item-cell';\nimport RadioCell from './radio-cell';\nimport NavigationScreen from './bottom-sheet-navigation/navigation-screen';\nimport NavigationContainer from './bottom-sheet-navigation/navigation-container';\nimport KeyboardAvoidingView from './keyboard-avoiding-view';\nimport BottomSheetSubSheet from './sub-sheet';\nimport NavBar from './nav-bar';\nimport { BottomSheetProvider } from './bottom-sheet-context';\n\nconst DEFAULT_LAYOUT_ANIMATION = LayoutAnimation.Presets.easeInEaseOut;\n\nclass BottomSheet extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onSafeAreaInsetsUpdate = this.onSafeAreaInsetsUpdate.bind( this );\n\t\tthis.onScroll = this.onScroll.bind( this );\n\t\tthis.isScrolling = this.isScrolling.bind( this );\n\t\tthis.onShouldEnableScroll = this.onShouldEnableScroll.bind( this );\n\t\tthis.onDismiss = this.onDismiss.bind( this );\n\t\tthis.onShouldSetBottomSheetMaxHeight =\n\t\t\tthis.onShouldSetBottomSheetMaxHeight.bind( this );\n\n\t\tthis.setIsFullScreen = this.setIsFullScreen.bind( this );\n\n\t\tthis.onDimensionsChange = this.onDimensionsChange.bind( this );\n\t\tthis.onHeaderLayout = this.onHeaderLayout.bind( this );\n\t\tthis.onCloseBottomSheet = this.onCloseBottomSheet.bind( this );\n\t\tthis.onHandleClosingBottomSheet =\n\t\t\tthis.onHandleClosingBottomSheet.bind( this );\n\t\tthis.onHardwareButtonPress = this.onHardwareButtonPress.bind( this );\n\t\tthis.onHandleHardwareButtonPress =\n\t\t\tthis.onHandleHardwareButtonPress.bind( this );\n\t\tthis.keyboardShow = this.keyboardShow.bind( this );\n\t\tthis.keyboardHide = this.keyboardHide.bind( this );\n\n\t\tthis.headerHeight = 0;\n\t\tthis.keyboardHeight = 0;\n\t\tthis.lastLayoutAnimation = null;\n\t\tthis.lastLayoutAnimationFinished = false;\n\n\t\tthis.state = {\n\t\t\tsafeAreaBottomInset: 0,\n\t\t\tsafeAreaTopInset: 0,\n\t\t\tbounces: false,\n\t\t\tmaxHeight: 0,\n\t\t\tscrollEnabled: true,\n\t\t\tisScrolling: false,\n\t\t\thandleClosingBottomSheet: null,\n\t\t\thandleHardwareButtonPress: null,\n\t\t\tisMaxHeightSet: true,\n\t\t\tisFullScreen: this.props.isFullScreen || false,\n\t\t};\n\t}\n\n\tkeyboardShow( e ) {\n\t\tif ( ! this.props.isVisible ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { height } = e.endCoordinates;\n\t\tthis.keyboardHeight = height;\n\t\tthis.performKeyboardLayoutAnimation( e );\n\t\tthis.onSetMaxHeight();\n\t\tthis.props.onKeyboardShow?.();\n\t}\n\n\tkeyboardHide( e ) {\n\t\tif ( ! this.props.isVisible ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.keyboardHeight = 0;\n\t\tthis.performKeyboardLayoutAnimation( e );\n\t\tthis.onSetMaxHeight();\n\t\tthis.props.onKeyboardHide?.();\n\t}\n\n\tperformKeyboardLayoutAnimation( event ) {\n\t\tconst { duration, easing } = event;\n\n\t\tif ( duration && easing ) {\n\t\t\t// This layout animation is the same as the React Native's KeyboardAvoidingView component.\n\t\t\t// Reference: https://github.com/facebook/react-native/blob/266b21baf35e052ff28120f79c06c4f6dddc51a9/Libraries/Components/Keyboard/KeyboardAvoidingView.js#L119-L128.\n\t\t\tconst animationConfig = {\n\t\t\t\t// We have to pass the duration equal to minimal accepted duration defined here: RCTLayoutAnimation.m.\n\t\t\t\tduration: duration > 10 ? duration : 10,\n\t\t\t\ttype: LayoutAnimation.Types[ easing ] || 'keyboard',\n\t\t\t};\n\t\t\tconst layoutAnimation = {\n\t\t\t\tduration: animationConfig.duration,\n\t\t\t\tupdate: animationConfig,\n\t\t\t\tcreate: {\n\t\t\t\t\t...animationConfig,\n\t\t\t\t\tproperty: LayoutAnimation.Properties.opacity,\n\t\t\t\t},\n\t\t\t\tdelete: {\n\t\t\t\t\t...animationConfig,\n\t\t\t\t\tproperty: LayoutAnimation.Properties.opacity,\n\t\t\t\t},\n\t\t\t};\n\t\t\tthis.lastLayoutAnimationFinished = false;\n\t\t\tLayoutAnimation.configureNext( layoutAnimation, () => {\n\t\t\t\tthis.lastLayoutAnimationFinished = true;\n\t\t\t} );\n\t\t\tthis.lastLayoutAnimation = layoutAnimation;\n\t\t} else {\n\t\t\t// TODO: Reinstate animations, possibly replacing `LayoutAnimation` with\n\t\t\t// more nuanced `Animated` usage or replacing our custom `BottomSheet`\n\t\t\t// with `@gorhom/bottom-sheet`. This animation was disabled to avoid a\n\t\t\t// preexisting bug: https://github.com/WordPress/gutenberg/issues/30562\n\t\t\t// this.performRegularLayoutAnimation( {\n\t\t\t// \tuseLastLayoutAnimation: false,\n\t\t\t// } );.\n\t\t}\n\t}\n\n\tperformRegularLayoutAnimation( { useLastLayoutAnimation } ) {\n\t\t// On Android, we should prevent triggering multiple layout animations at the same time because it can produce visual glitches.\n\t\tif (\n\t\t\tPlatform.OS === 'android' &&\n\t\t\tthis.lastLayoutAnimation &&\n\t\t\t! this.lastLayoutAnimationFinished\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst layoutAnimation = useLastLayoutAnimation\n\t\t\t? this.lastLayoutAnimation || DEFAULT_LAYOUT_ANIMATION\n\t\t\t: DEFAULT_LAYOUT_ANIMATION;\n\n\t\tthis.lastLayoutAnimationFinished = false;\n\t\tLayoutAnimation.configureNext( layoutAnimation, () => {\n\t\t\tthis.lastLayoutAnimationFinished = true;\n\t\t} );\n\t\tthis.lastLayoutAnimation = layoutAnimation;\n\t}\n\n\tcomponentDidMount() {\n\t\tSafeArea.getSafeAreaInsetsForRootView().then(\n\t\t\tthis.onSafeAreaInsetsUpdate\n\t\t);\n\n\t\tif ( Platform.OS === 'android' ) {\n\t\t\tthis.androidModalClosedSubscription = subscribeAndroidModalClosed(\n\t\t\t\t() => {\n\t\t\t\t\tthis.props.onClose();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tthis.dimensionsChangeSubscription = Dimensions.addEventListener(\n\t\t\t'change',\n\t\t\tthis.onDimensionsChange\n\t\t);\n\n\t\t// 'Will' keyboard events are not available on Android.\n\t\t// Reference: https://reactnative.dev/docs/0.61/keyboard#addlistener.\n\t\tthis.keyboardShowListener = Keyboard.addListener(\n\t\t\tPlatform.OS === 'ios' ? 'keyboardWillShow' : 'keyboardDidShow',\n\t\t\tthis.keyboardShow\n\t\t);\n\t\tthis.keyboardHideListener = Keyboard.addListener(\n\t\t\tPlatform.OS === 'ios' ? 'keyboardWillHide' : 'keyboardDidHide',\n\t\t\tthis.keyboardHide\n\t\t);\n\n\t\tthis.safeAreaEventSubscription = SafeArea.addEventListener(\n\t\t\t'safeAreaInsetsForRootViewDidChange',\n\t\t\tthis.onSafeAreaInsetsUpdate\n\t\t);\n\t\tthis.onSetMaxHeight();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.dimensionsChangeSubscription.remove();\n\t\tthis.keyboardShowListener.remove();\n\t\tthis.keyboardHideListener.remove();\n\t\tif ( this.androidModalClosedSubscription ) {\n\t\t\tthis.androidModalClosedSubscription.remove();\n\t\t}\n\t\tif ( this.safeAreaEventSubscription === null ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.safeAreaEventSubscription.remove();\n\t\tthis.safeAreaEventSubscription = null;\n\t}\n\n\tonSafeAreaInsetsUpdate( result ) {\n\t\tconst { safeAreaBottomInset, safeAreaTopInset } = this.state;\n\t\tif ( this.safeAreaEventSubscription === null ) {\n\t\t\treturn;\n\t\t}\n\t\tconst { safeAreaInsets } = result;\n\t\tif (\n\t\t\tsafeAreaBottomInset !== safeAreaInsets.bottom ||\n\t\t\tsafeAreaTopInset !== safeAreaInsets.top\n\t\t) {\n\t\t\tthis.setState( {\n\t\t\t\tsafeAreaBottomInset: safeAreaInsets.bottom,\n\t\t\t\tsafeAreaTopInset: safeAreaInsets.top,\n\t\t\t} );\n\t\t}\n\t}\n\n\tonSetMaxHeight() {\n\t\tconst { height, width } = Dimensions.get( 'window' );\n\t\tconst { safeAreaBottomInset } = this.state;\n\t\tconst statusBarHeight =\n\t\t\tPlatform.OS === 'android' ? StatusBar.currentHeight : 0;\n\n\t\t// `maxHeight` when modal is opened along with a keyboard.\n\t\tconst maxHeightWithOpenKeyboard =\n\t\t\t0.95 *\n\t\t\t( Dimensions.get( 'window' ).height -\n\t\t\t\tthis.keyboardHeight -\n\t\t\t\tstatusBarHeight -\n\t\t\t\tthis.headerHeight );\n\n\t\t// In landscape orientation, set `maxHeight` to ~96% of the height.\n\t\tif ( width > height ) {\n\t\t\tthis.setState( {\n\t\t\t\tmaxHeight: Math.min(\n\t\t\t\t\t0.96 * height - this.headerHeight,\n\t\t\t\t\tmaxHeightWithOpenKeyboard\n\t\t\t\t),\n\t\t\t} );\n\t\t\t// In portrait orientation, set `maxHeight` to ~59% of the height.\n\t\t} else {\n\t\t\tthis.setState( {\n\t\t\t\tmaxHeight: Math.min(\n\t\t\t\t\theight * 0.59 - safeAreaBottomInset - this.headerHeight,\n\t\t\t\t\tmaxHeightWithOpenKeyboard\n\t\t\t\t),\n\t\t\t} );\n\t\t}\n\t}\n\n\tonDimensionsChange() {\n\t\tthis.onSetMaxHeight();\n\t\tthis.setState( { bounces: false } );\n\t}\n\n\tonHeaderLayout( { nativeEvent } ) {\n\t\tconst { height } = nativeEvent.layout;\n\t\t// The layout animation should only be triggered if the header\n\t\t// height has changed after being mounted.\n\t\tif (\n\t\t\tthis.headerHeight !== 0 &&\n\t\t\tMath.round( height ) !== Math.round( this.headerHeight )\n\t\t) {\n\t\t\tthis.performRegularLayoutAnimation( {\n\t\t\t\tuseLastLayoutAnimation: true,\n\t\t\t} );\n\t\t}\n\t\tthis.headerHeight = height;\n\t\tthis.onSetMaxHeight();\n\t}\n\n\tisCloseToBottom( { layoutMeasurement, contentOffset, contentSize } ) {\n\t\treturn (\n\t\t\tlayoutMeasurement.height + contentOffset.y >=\n\t\t\tcontentSize.height - contentOffset.y\n\t\t);\n\t}\n\n\tisCloseToTop( { contentOffset } ) {\n\t\treturn contentOffset.y < 10;\n\t}\n\n\tonScroll( { nativeEvent } ) {\n\t\tif ( this.isCloseToTop( nativeEvent ) ) {\n\t\t\tthis.setState( { bounces: false } );\n\t\t} else {\n\t\t\tthis.setState( { bounces: true } );\n\t\t}\n\t}\n\n\tonDismiss() {\n\t\tconst { onDismiss } = this.props;\n\n\t\tif ( onDismiss ) {\n\t\t\tonDismiss();\n\t\t}\n\n\t\tthis.onCloseBottomSheet();\n\t}\n\n\tonShouldEnableScroll( value ) {\n\t\tthis.setState( { scrollEnabled: value } );\n\t}\n\n\tonShouldSetBottomSheetMaxHeight( value ) {\n\t\tthis.setState( { isMaxHeightSet: value } );\n\t}\n\n\tisScrolling( value ) {\n\t\tthis.setState( { isScrolling: value } );\n\t}\n\n\tonHandleClosingBottomSheet( action ) {\n\t\tthis.setState( { handleClosingBottomSheet: action } );\n\t}\n\n\tonHandleHardwareButtonPress( action ) {\n\t\tthis.setState( { handleHardwareButtonPress: action } );\n\t}\n\n\tonCloseBottomSheet() {\n\t\tconst { onClose } = this.props;\n\t\tconst { handleClosingBottomSheet } = this.state;\n\t\tif ( handleClosingBottomSheet ) {\n\t\t\thandleClosingBottomSheet();\n\t\t\tthis.onHandleClosingBottomSheet( null );\n\t\t}\n\t\tif ( onClose ) {\n\t\t\tonClose();\n\t\t}\n\t\tthis.onShouldSetBottomSheetMaxHeight( true );\n\t}\n\n\tsetIsFullScreen( isFullScreen ) {\n\t\tif ( isFullScreen !== this.state.isFullScreen ) {\n\t\t\tif ( isFullScreen ) {\n\t\t\t\tthis.setState( { isFullScreen, isMaxHeightSet: false } );\n\t\t\t} else {\n\t\t\t\tthis.setState( { isFullScreen, isMaxHeightSet: true } );\n\t\t\t}\n\t\t}\n\t}\n\n\tonHardwareButtonPress() {\n\t\tconst { onClose } = this.props;\n\t\tconst { handleHardwareButtonPress } = this.state;\n\t\tif ( handleHardwareButtonPress && handleHardwareButtonPress() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( onClose ) {\n\t\t\treturn onClose();\n\t\t}\n\t}\n\n\tgetContentStyle() {\n\t\tconst { safeAreaBottomInset } = this.state;\n\t\treturn {\n\t\t\tpaddingBottom:\n\t\t\t\t( safeAreaBottomInset || 0 ) +\n\t\t\t\tstyles.scrollableContent.paddingBottom,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle = '',\n\t\t\tisVisible,\n\t\t\tleftButton,\n\t\t\trightButton,\n\t\t\theader,\n\t\t\thideHeader,\n\t\t\tstyle = {},\n\t\t\tcontentStyle = {},\n\t\t\tgetStylesFromColorScheme,\n\t\t\tchildren,\n\t\t\twithHeaderSeparator = false,\n\t\t\thasNavigation,\n\t\t\tonDismiss,\n\t\t\t...rest\n\t\t} = this.props;\n\t\tconst {\n\t\t\tmaxHeight,\n\t\t\tbounces,\n\t\t\tsafeAreaBottomInset,\n\t\t\tsafeAreaTopInset,\n\t\t\tisScrolling,\n\t\t\tscrollEnabled,\n\t\t\tisMaxHeightSet,\n\t\t\tisFullScreen,\n\t\t} = this.state;\n\n\t\tconst panResponder = PanResponder.create( {\n\t\t\tonMoveShouldSetPanResponder: ( evt, gestureState ) => {\n\t\t\t\t// 'swiping-to-close' option is temporarily and partially disabled\n\t\t\t\t// on Android ( swipe / drag is still available in the top most area - near drag indicator).\n\t\t\t\tif ( Platform.OS === 'ios' ) {\n\t\t\t\t\t// Activates swipe down over child Touchables if the swipe is long enough.\n\t\t\t\t\t// With this we can adjust sensibility on the swipe vs tap gestures.\n\t\t\t\t\tif ( gestureState.dy > 3 && ! bounces ) {\n\t\t\t\t\t\tgestureState.dy = 0;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t} );\n\n\t\tconst backgroundStyle = getStylesFromColorScheme(\n\t\t\tstyles.background,\n\t\t\tstyles.backgroundDark\n\t\t);\n\n\t\tconst bottomSheetHeaderTitleStyle = getStylesFromColorScheme(\n\t\t\tstyles.bottomSheetHeaderTitle,\n\t\t\tstyles.bottomSheetHeaderTitleDark\n\t\t);\n\n\t\tlet listStyle = {};\n\t\tif ( isFullScreen ) {\n\t\t\tlistStyle = { flexGrow: 1, flexShrink: 1 };\n\t\t} else if ( isMaxHeightSet ) {\n\t\t\tlistStyle = { maxHeight };\n\n\t\t\t// Allow setting a \"static\" height of the bottom sheet\n\t\t\t// by setting the min height to the max height.\n\t\t\tif ( this.props.setMinHeightToMaxHeight ) {\n\t\t\t\tlistStyle.minHeight = maxHeight;\n\t\t\t}\n\t\t}\n\n\t\tconst listProps = {\n\t\t\tdisableScrollViewPanResponder: true,\n\t\t\tbounces,\n\t\t\tonScroll: this.onScroll,\n\t\t\tonScrollBeginDrag: this.onScrollBeginDrag,\n\t\t\tonScrollEndDrag: this.onScrollEndDrag,\n\t\t\tscrollEventThrottle: 16,\n\t\t\tcontentContainerStyle: [\n\t\t\t\tstyles.content,\n\t\t\t\thideHeader && styles.emptyHeader,\n\t\t\t\tcontentStyle,\n\t\t\t\tisFullScreen && { flexGrow: 1 },\n\t\t\t],\n\t\t\tstyle: listStyle,\n\t\t\tsafeAreaBottomInset,\n\t\t\tscrollEnabled,\n\t\t\tautomaticallyAdjustContentInsets: false,\n\t\t};\n\n\t\tconst WrapperView = hasNavigation ? View : ScrollView;\n\n\t\tconst getHeader = () => (\n\t\t\t<>\n\t\t\t\t{ header || (\n\t\t\t\t\t<View style={ styles.bottomSheetHeader }>\n\t\t\t\t\t\t<View style={ styles.flex }>{ leftButton }</View>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={ bottomSheetHeaderTitleStyle }\n\t\t\t\t\t\t\tmaxFontSizeMultiplier={ 3 }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<View style={ styles.flex }>{ rightButton }</View>\n\t\t\t\t\t</View>\n\t\t\t\t) }\n\t\t\t\t{ withHeaderSeparator && <View style={ styles.separator } /> }\n\t\t\t</>\n\t\t);\n\n\t\tconst showDragIndicator = () => {\n\t\t\t// If iOS or not fullscreen show the drag indicator.\n\t\t\tif ( Platform.OS === 'ios' || ! this.state.isFullScreen ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Otherwise check the allowDragIndicator.\n\t\t\treturn this.props.allowDragIndicator;\n\t\t};\n\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\tisVisible={ isVisible }\n\t\t\t\tstyle={ styles.bottomModal }\n\t\t\t\tanimationInTiming={ 400 }\n\t\t\t\tanimationOutTiming={ 300 }\n\t\t\t\tbackdropTransitionInTiming={ 50 }\n\t\t\t\tbackdropTransitionOutTiming={ 50 }\n\t\t\t\tbackdropOpacity={ 0.2 }\n\t\t\t\tonBackdropPress={ this.onCloseBottomSheet }\n\t\t\t\tonBackButtonPress={ this.onHardwareButtonPress }\n\t\t\t\tonSwipeComplete={ this.onCloseBottomSheet }\n\t\t\t\tonDismiss={ Platform.OS === 'ios' ? this.onDismiss : undefined }\n\t\t\t\tonModalHide={\n\t\t\t\t\tPlatform.OS === 'android' ? this.onDismiss : undefined\n\t\t\t\t}\n\t\t\t\tswipeDirection=\"down\"\n\t\t\t\tonMoveShouldSetResponder={\n\t\t\t\t\tscrollEnabled &&\n\t\t\t\t\tpanResponder.panHandlers.onMoveShouldSetResponder\n\t\t\t\t}\n\t\t\t\tonMoveShouldSetResponderCapture={\n\t\t\t\t\tscrollEnabled &&\n\t\t\t\t\tpanResponder.panHandlers.onMoveShouldSetResponderCapture\n\t\t\t\t}\n\t\t\t\tonAccessibilityEscape={ this.onCloseBottomSheet }\n\t\t\t\t{ ...rest }\n\t\t\t>\n\t\t\t\t<KeyboardAvoidingView\n\t\t\t\t\tbehavior={ Platform.OS === 'ios' && 'padding' }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t...backgroundStyle,\n\t\t\t\t\t\tborderColor: 'rgba(0, 0, 0, 0.1)',\n\t\t\t\t\t\tmarginTop:\n\t\t\t\t\t\t\tPlatform.OS === 'ios' && isFullScreen\n\t\t\t\t\t\t\t\t? safeAreaTopInset\n\t\t\t\t\t\t\t\t: 0,\n\t\t\t\t\t\tflex: isFullScreen ? 1 : undefined,\n\t\t\t\t\t\t...( Platform.OS === 'android' && isFullScreen\n\t\t\t\t\t\t\t? styles.backgroundFullScreen\n\t\t\t\t\t\t\t: {} ),\n\t\t\t\t\t\t...style,\n\t\t\t\t\t} }\n\t\t\t\t\tkeyboardVerticalOffset={ -safeAreaBottomInset }\n\t\t\t\t>\n\t\t\t\t\t<View\n\t\t\t\t\t\tstyle={ styles.header }\n\t\t\t\t\t\tonLayout={ this.onHeaderLayout }\n\t\t\t\t\t\ttestID={ `${ rest.testID || 'bottom-sheet' }-header` }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ showDragIndicator() && (\n\t\t\t\t\t\t\t<View style={ styles.dragIndicator } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! hideHeader && getHeader() }\n\t\t\t\t\t</View>\n\t\t\t\t\t<WrapperView\n\t\t\t\t\t\t{ ...( hasNavigation\n\t\t\t\t\t\t\t? { style: listProps.style }\n\t\t\t\t\t\t\t: listProps ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BottomSheetProvider\n\t\t\t\t\t\t\tvalue={ {\n\t\t\t\t\t\t\t\tshouldEnableBottomSheetScroll:\n\t\t\t\t\t\t\t\t\tthis.onShouldEnableScroll,\n\t\t\t\t\t\t\t\tshouldEnableBottomSheetMaxHeight:\n\t\t\t\t\t\t\t\t\tthis.onShouldSetBottomSheetMaxHeight,\n\t\t\t\t\t\t\t\tisBottomSheetContentScrolling: isScrolling,\n\t\t\t\t\t\t\t\tonHandleClosingBottomSheet:\n\t\t\t\t\t\t\t\t\tthis.onHandleClosingBottomSheet,\n\t\t\t\t\t\t\t\tonHandleHardwareButtonPress:\n\t\t\t\t\t\t\t\t\tthis.onHandleHardwareButtonPress,\n\t\t\t\t\t\t\t\tlistProps,\n\t\t\t\t\t\t\t\tsetIsFullScreen: this.setIsFullScreen,\n\t\t\t\t\t\t\t\tsafeAreaBottomInset,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ hasNavigation ? (\n\t\t\t\t\t\t\t\t<>{ children }</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<TouchableHighlight accessible={ false }>\n\t\t\t\t\t\t\t\t\t<>{ children }</>\n\t\t\t\t\t\t\t\t</TouchableHighlight>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</BottomSheetProvider>\n\t\t\t\t\t\t{ ! hasNavigation && (\n\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\theight:\n\t\t\t\t\t\t\t\t\t\tsafeAreaBottomInset ||\n\t\t\t\t\t\t\t\t\t\tstyles.scrollableContent.paddingBottom,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</WrapperView>\n\t\t\t\t</KeyboardAvoidingView>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nfunction getWidth() {\n\treturn Math.min(\n\t\tDimensions.get( 'window' ).width,\n\t\tstyles.background.maxWidth\n\t);\n}\n\nconst ThemedBottomSheet = withPreferredColorScheme( BottomSheet );\n\nThemedBottomSheet.getWidth = getWidth;\nThemedBottomSheet.Button = Button;\nThemedBottomSheet.Cell = Cell;\nThemedBottomSheet.SubSheet = BottomSheetSubSheet;\nThemedBottomSheet.NavBar = NavBar;\nThemedBottomSheet.CyclePickerCell = CyclePickerCell;\nThemedBottomSheet.PickerCell = PickerCell;\nThemedBottomSheet.SwitchCell = SwitchCell;\nThemedBottomSheet.RangeCell = RangeCell;\nThemedBottomSheet.ColorCell = ColorCell;\nThemedBottomSheet.LinkCell = LinkCell;\nThemedBottomSheet.LinkSuggestionItemCell = LinkSuggestionItemCell;\nThemedBottomSheet.RadioCell = RadioCell;\nThemedBottomSheet.NavigationScreen = NavigationScreen;\nThemedBottomSheet.NavigationContainer = NavigationContainer;\n\nexport default ThemedBottomSheet;\n"]}