{"version":3,"sources":["@wordpress/components/src/mobile/bottom-sheet/ripple.native.js"],"names":["Platform","TouchableOpacity","TouchableNativeFeedback","View","withPreferredColorScheme","rippleStyles","ANDROID_VERSION_LOLLIPOP","ANDROID_VERSION_PIE","TouchableRipple","style","onPress","disabled","disabledProp","children","activeOpacity","getStylesFromColorScheme","borderless","touchableProps","isTouchableNativeSupported","OS","Version","rippleColor","ripple","rippleDark","backgroundColor","useForeground","Ripple","overflow"],"mappings":";;;AAAA;AACA;AACA;AACA,SACCA,QADD,EAECC,gBAFD,EAGCC,uBAHD,EAICC,IAJD,QAKO,cALP;AAOA;AACA;AACA;;AACA,SAASC,wBAAT,QAAyC,oBAAzC;AAEA;AACA;AACA;;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AAEA,MAAMC,wBAAwB,GAAG,EAAjC;AACA,MAAMC,mBAAmB,GAAG,EAA5B;;AAEA,MAAMC,eAAe,GAAG,QASjB;AAAA,MATmB;AACzBC,IAAAA,KADyB;AAEzBC,IAAAA,OAFyB;AAGzBC,IAAAA,QAAQ,EAAEC,YAHe;AAIzBC,IAAAA,QAJyB;AAKzBC,IAAAA,aALyB;AAMzBC,IAAAA,wBANyB;AAOzBC,IAAAA,UAAU,GAAG,KAPY;AAQzB,OAAGC;AARsB,GASnB;AACN,QAAMC,0BAA0B,GAC/BlB,QAAQ,CAACmB,EAAT,KAAgB,SAAhB,IACAnB,QAAQ,CAACoB,OAAT,IAAoBd,wBAFrB;AAIA,QAAMK,QAAQ,GAAGC,YAAY,IAAI,CAAEF,OAAnC;AACA,QAAMW,WAAW,GAAGN,wBAAwB,CAC3CV,YAAY,CAACiB,MAD8B,EAE3CjB,YAAY,CAACkB,UAF8B,CAAxB,CAGlBC,eAHF;;AAKA,MAAKN,0BAAL,EAAkC;AACjC;AACA;AACA,UAAMO,aAAa,GAClBzB,QAAQ,CAACmB,EAAT,KAAgB,SAAhB,IACAnB,QAAQ,CAACoB,OAAT,IAAoBb,mBADpB,IAEAS,UAHD;AAKA,WACC,cAAC,uBAAD,eACMC,cADN;AAEC,MAAA,OAAO,EAAGP,OAFX;AAGC,MAAA,QAAQ,EAAGC,QAHZ;AAIC,MAAA,aAAa,EAAGc,aAJjB;AAKC,MAAA,UAAU,EAAGvB,uBAAuB,CAACwB,MAAxB,CACZL,WADY,EAEZL,UAFY;AALd,QAUC,cAAC,IAAD;AAAM,MAAA,KAAK,EAAG,CAAEA,UAAU,IAAIX,YAAY,CAACsB,QAA7B,EAAuClB,KAAvC;AAAd,OACGI,QADH,CAVD,CADD;AAgBA;;AAED,SACC,cAAC,gBAAD,eACMI,cADN;AAEC,IAAA,OAAO,EAAGP,OAFX;AAGC,IAAA,QAAQ,EAAGC,QAHZ;AAIC,IAAA,aAAa,EAAGG,aAJjB;AAKC,IAAA,KAAK,EAAGL;AALT,MAOGI,QAPH,CADD;AAWA,CAzDD;;AA2DA,eAAeT,wBAAwB,CAAEI,eAAF,CAAvC","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tPlatform,\n\tTouchableOpacity,\n\tTouchableNativeFeedback,\n\tView,\n} from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { withPreferredColorScheme } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport rippleStyles from './ripple.native.scss';\n\nconst ANDROID_VERSION_LOLLIPOP = 21;\nconst ANDROID_VERSION_PIE = 28;\n\nconst TouchableRipple = ( {\n\tstyle,\n\tonPress,\n\tdisabled: disabledProp,\n\tchildren,\n\tactiveOpacity,\n\tgetStylesFromColorScheme,\n\tborderless = false,\n\t...touchableProps\n} ) => {\n\tconst isTouchableNativeSupported =\n\t\tPlatform.OS === 'android' &&\n\t\tPlatform.Version >= ANDROID_VERSION_LOLLIPOP;\n\n\tconst disabled = disabledProp || ! onPress;\n\tconst rippleColor = getStylesFromColorScheme(\n\t\trippleStyles.ripple,\n\t\trippleStyles.rippleDark\n\t).backgroundColor;\n\n\tif ( isTouchableNativeSupported ) {\n\t\t// A workaround for ripple on Android P is to use useForeground + overflow: 'hidden'\n\t\t// https://github.com/facebook/react-native/issues/6480\n\t\tconst useForeground =\n\t\t\tPlatform.OS === 'android' &&\n\t\t\tPlatform.Version >= ANDROID_VERSION_PIE &&\n\t\t\tborderless;\n\n\t\treturn (\n\t\t\t<TouchableNativeFeedback\n\t\t\t\t{ ...touchableProps }\n\t\t\t\tonPress={ onPress }\n\t\t\t\tdisabled={ disabled }\n\t\t\t\tuseForeground={ useForeground }\n\t\t\t\tbackground={ TouchableNativeFeedback.Ripple(\n\t\t\t\t\trippleColor,\n\t\t\t\t\tborderless\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<View style={ [ borderless && rippleStyles.overflow, style ] }>\n\t\t\t\t\t{ children }\n\t\t\t\t</View>\n\t\t\t</TouchableNativeFeedback>\n\t\t);\n\t}\n\n\treturn (\n\t\t<TouchableOpacity\n\t\t\t{ ...touchableProps }\n\t\t\tonPress={ onPress }\n\t\t\tdisabled={ disabled }\n\t\t\tactiveOpacity={ activeOpacity }\n\t\t\tstyle={ style }\n\t\t>\n\t\t\t{ children }\n\t\t</TouchableOpacity>\n\t);\n};\n\nexport default withPreferredColorScheme( TouchableRipple );\n"]}