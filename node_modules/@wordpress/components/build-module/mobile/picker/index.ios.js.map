{"version":3,"sources":["@wordpress/components/src/mobile/picker/index.ios.js"],"names":["ActionSheetIOS","__","Component","forwardRef","useContext","useDispatch","useSelect","BottomSheetContext","usePreferredColorScheme","styles","Picker","presentPicker","options","onChange","title","destructiveButtonIndex","disabledButtonIndices","getAnchor","isBottomSheetOpened","closeBottomSheet","onHandleClosingBottomSheet","colorScheme","props","labels","map","label","fullOptions","concat","buttonTitleColor","color","showActionSheetWithOptions","cancelButtonIndex","anchor","tintColor","buttonIndex","selected","requiresModal","value","render","PickerComponent","ref","select","isEditorSidebarOpened","closeGeneralSidebar"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { ActionSheetIOS } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, forwardRef, useContext } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { BottomSheetContext } from '@wordpress/components';\nimport { usePreferredColorScheme } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\n\nclass Picker extends Component {\n\tpresentPicker() {\n\t\tconst {\n\t\t\toptions,\n\t\t\tonChange,\n\t\t\ttitle,\n\t\t\tdestructiveButtonIndex,\n\t\t\tdisabledButtonIndices,\n\t\t\tgetAnchor,\n\t\t\tisBottomSheetOpened,\n\t\t\tcloseBottomSheet,\n\t\t\tonHandleClosingBottomSheet,\n\t\t\tcolorScheme,\n\t\t} = this.props;\n\t\tconst labels = options.map( ( { label } ) => label );\n\t\tconst fullOptions = [ __( 'Cancel' ) ].concat( labels );\n\n\t\tconst buttonTitleColor =\n\t\t\tcolorScheme === 'light'\n\t\t\t\t? styles[ 'components-picker__button-title' ].color\n\t\t\t\t: styles[ 'components-picker__button-title--dark' ].color;\n\n\t\tActionSheetIOS.showActionSheetWithOptions(\n\t\t\t{\n\t\t\t\ttitle,\n\t\t\t\toptions: fullOptions,\n\t\t\t\tcancelButtonIndex: 0,\n\t\t\t\tdestructiveButtonIndex,\n\t\t\t\tdisabledButtonIndices,\n\t\t\t\tanchor: getAnchor && getAnchor(),\n\t\t\t\ttintColor: buttonTitleColor,\n\t\t\t},\n\t\t\t( buttonIndex ) => {\n\t\t\t\tif ( buttonIndex === 0 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst selected = options[ buttonIndex - 1 ];\n\n\t\t\t\tif ( selected.requiresModal && isBottomSheetOpened ) {\n\t\t\t\t\tonHandleClosingBottomSheet( () => {\n\t\t\t\t\t\tonChange( selected.value );\n\t\t\t\t\t} );\n\t\t\t\t\tcloseBottomSheet();\n\t\t\t\t} else {\n\t\t\t\t\tonChange( selected.value );\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\nconst PickerComponent = forwardRef( ( props, ref ) => {\n\tconst isBottomSheetOpened = useSelect( ( select ) =>\n\t\tselect( 'core/edit-post' ).isEditorSidebarOpened()\n\t);\n\tconst { closeGeneralSidebar } = useDispatch( 'core/edit-post' );\n\tconst { onHandleClosingBottomSheet } = useContext( BottomSheetContext );\n\n\tconst colorScheme = usePreferredColorScheme();\n\n\treturn (\n\t\t<Picker\n\t\t\tref={ ref }\n\t\t\t{ ...props }\n\t\t\tisBottomSheetOpened={ isBottomSheetOpened }\n\t\t\tcloseBottomSheet={ closeGeneralSidebar }\n\t\t\tonHandleClosingBottomSheet={ onHandleClosingBottomSheet }\n\t\t\tcolorScheme={ colorScheme }\n\t\t/>\n\t);\n} );\n\nexport default PickerComponent;\n"]}