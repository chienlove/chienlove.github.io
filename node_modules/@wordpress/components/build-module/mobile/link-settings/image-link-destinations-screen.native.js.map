{"version":3,"sources":["@wordpress/components/src/mobile/link-settings/image-link-destinations-screen.native.js"],"names":["useNavigation","useRoute","StyleSheet","__","Icon","check","chevronRight","blockSettingsScreens","usePreferredColorSchemeStyle","styles","PanelBody","BottomSheet","LINK_DESTINATION_NONE","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_CUSTOM","LinkDestination","children","isSelected","label","onPress","value","valueStyle","optionIcon","optionIconDark","flatten","unselectedOptionIcon","ImageLinkDestinationsScreen","props","navigation","route","url","inputValue","imageUrl","attachmentPageUrl","linkDestination","params","goToLinkPicker","navigate","linkPicker","setLinkDestination","newLinkDestination","newUrl","settings","text","goBack","undefined","placeholderTextColor"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { StyleSheet } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, check, chevronRight } from '@wordpress/icons';\nimport { blockSettingsScreens } from '@wordpress/block-editor';\nimport { usePreferredColorSchemeStyle } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\nimport PanelBody from '../../panel/body';\nimport BottomSheet from '../bottom-sheet';\n\nconst LINK_DESTINATION_NONE = 'none';\nconst LINK_DESTINATION_MEDIA = 'media';\nconst LINK_DESTINATION_ATTACHMENT = 'attachment';\nconst LINK_DESTINATION_CUSTOM = 'custom';\n\nfunction LinkDestination( {\n\tchildren,\n\tisSelected,\n\tlabel,\n\tonPress,\n\tvalue,\n\tvalueStyle,\n} ) {\n\tconst optionIcon = usePreferredColorSchemeStyle(\n\t\tstyles.optionIcon,\n\t\tstyles.optionIconDark\n\t);\n\treturn (\n\t\t<BottomSheet.Cell\n\t\t\ticon={ check }\n\t\t\ticonStyle={ StyleSheet.flatten( [\n\t\t\t\toptionIcon,\n\t\t\t\t! isSelected && styles.unselectedOptionIcon,\n\t\t\t] ) }\n\t\t\tlabel={ label }\n\t\t\tleftAlign\n\t\t\tonPress={ onPress }\n\t\t\tvalue={ value }\n\t\t\tvalueStyle={ valueStyle }\n\t\t\tseparatorType=\"leftMargin\"\n\t\t>\n\t\t\t{ children }\n\t\t</BottomSheet.Cell>\n\t);\n}\n\nfunction ImageLinkDestinationsScreen( props ) {\n\tconst navigation = useNavigation();\n\tconst route = useRoute();\n\tconst { url = '' } = props;\n\tconst {\n\t\tinputValue = url,\n\t\timageUrl,\n\t\tattachmentPageUrl,\n\t\tlinkDestination,\n\t} = route.params || {};\n\n\tfunction goToLinkPicker() {\n\t\tnavigation.navigate( blockSettingsScreens.linkPicker, {\n\t\t\tinputValue:\n\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM ? inputValue : '',\n\t\t} );\n\t}\n\n\tconst setLinkDestination = ( newLinkDestination ) => () => {\n\t\tlet newUrl;\n\t\tswitch ( newLinkDestination ) {\n\t\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\t\tnewUrl = imageUrl;\n\t\t\t\tbreak;\n\t\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\t\tnewUrl = attachmentPageUrl;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tnewUrl = '';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tnavigation.navigate( blockSettingsScreens.settings, {\n\t\t\t// The `inputValue` name is reused from LinkPicker, as it helps avoid\n\t\t\t// bugs from stale values remaining in the React Navigation route\n\t\t\t// parameters.\n\t\t\tinputValue: newUrl,\n\t\t\t// Clear link text value that may be set from LinkPicker.\n\t\t\ttext: '',\n\t\t} );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BottomSheet.NavBar>\n\t\t\t\t<BottomSheet.NavBar.BackButton onPress={ navigation.goBack } />\n\t\t\t\t<BottomSheet.NavBar.Heading>\n\t\t\t\t\t{ __( 'Link To' ) }\n\t\t\t\t</BottomSheet.NavBar.Heading>\n\t\t\t</BottomSheet.NavBar>\n\t\t\t<PanelBody>\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_NONE }\n\t\t\t\t\tlabel={ __( 'None' ) }\n\t\t\t\t\tonPress={ setLinkDestination( LINK_DESTINATION_NONE ) }\n\t\t\t\t/>\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_MEDIA }\n\t\t\t\t\tlabel={ __( 'Media File' ) }\n\t\t\t\t\tonPress={ setLinkDestination( LINK_DESTINATION_MEDIA ) }\n\t\t\t\t/>\n\t\t\t\t{ !! attachmentPageUrl && (\n\t\t\t\t\t<LinkDestination\n\t\t\t\t\t\tisSelected={\n\t\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_ATTACHMENT\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={ __( 'Attachment Page' ) }\n\t\t\t\t\t\tonPress={ setLinkDestination(\n\t\t\t\t\t\t\tLINK_DESTINATION_ATTACHMENT\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<LinkDestination\n\t\t\t\t\tisSelected={ linkDestination === LINK_DESTINATION_CUSTOM }\n\t\t\t\t\tlabel={ __( 'Custom URL' ) }\n\t\t\t\t\tonPress={ goToLinkPicker }\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM\n\t\t\t\t\t\t\t? inputValue\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t\tvalueStyle={\n\t\t\t\t\t\tlinkDestination === LINK_DESTINATION_CUSTOM\n\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t: styles.placeholderTextColor\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Icon icon={ chevronRight }></Icon>\n\t\t\t\t</LinkDestination>\n\t\t\t</PanelBody>\n\t\t</>\n\t);\n}\n\nexport default ImageLinkDestinationsScreen;\n"]}