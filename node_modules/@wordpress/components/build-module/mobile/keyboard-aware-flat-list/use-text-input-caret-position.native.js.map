{"version":3,"sources":["@wordpress/components/src/mobile/keyboard-aware-flat-list/use-text-input-caret-position.native.js"],"names":["RCTAztecView","useCallback","useEffect","useState","useTextInputCaretPosition","scrollEnabled","currentCaretData","setCurrentCaretData","onCaretChange","caret","InputState","addCaretChangeListener","removeCaretChangeListener"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,YAAP,MAAyB,+BAAzB;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,oBAAjD;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,yBAAT,CAAoCC,aAApC,EAAoD;AAClE,QAAM,CAAEC,gBAAF,EAAoBC,mBAApB,IAA4CJ,QAAQ,EAA1D;AAEA,QAAMK,aAAa,GAAGP,WAAW,CAAIQ,KAAF,IAAa;AAC/CF,IAAAA,mBAAmB,CAAEE,KAAF,CAAnB;AACA,GAFgC,EAE9B,EAF8B,CAAjC;AAIAP,EAAAA,SAAS,CAAE,MAAM;AAChB,QAAKG,aAAL,EAAqB;AACpBL,MAAAA,YAAY,CAACU,UAAb,CAAwBC,sBAAxB,CAAgDH,aAAhD;AACA,KAFD,MAEO;AACNR,MAAAA,YAAY,CAACU,UAAb,CAAwBE,yBAAxB,CAAmDJ,aAAnD;AACA;;AAED,WAAO,MAAM;AACZ,UAAKH,aAAL,EAAqB;AACpBL,QAAAA,YAAY,CAACU,UAAb,CAAwBE,yBAAxB,CACCJ,aADD;AAGA;AACD,KAND;AAOA,GAdQ,EAcN,CAAEH,aAAF,EAAiBG,aAAjB,CAdM,CAAT;AAeA,SAAO,CAAEF,gBAAF,CAAP;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport RCTAztecView from '@wordpress/react-native-aztec';\nimport { useCallback, useEffect, useState } from '@wordpress/element';\n\n/**\n * Hook that listens to caret changes from AztecView TextInputs.\n *\n * @param {boolean} scrollEnabled Whether the scroll is enabled or not.\n * @return {[number]} Current caret's data.\n */\nexport default function useTextInputCaretPosition( scrollEnabled ) {\n\tconst [ currentCaretData, setCurrentCaretData ] = useState();\n\n\tconst onCaretChange = useCallback( ( caret ) => {\n\t\tsetCurrentCaretData( caret );\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( scrollEnabled ) {\n\t\t\tRCTAztecView.InputState.addCaretChangeListener( onCaretChange );\n\t\t} else {\n\t\t\tRCTAztecView.InputState.removeCaretChangeListener( onCaretChange );\n\t\t}\n\n\t\treturn () => {\n\t\t\tif ( scrollEnabled ) {\n\t\t\t\tRCTAztecView.InputState.removeCaretChangeListener(\n\t\t\t\t\tonCaretChange\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\t}, [ scrollEnabled, onCaretChange ] );\n\treturn [ currentCaretData ];\n}\n"]}