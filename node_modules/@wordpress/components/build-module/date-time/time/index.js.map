{"version":3,"sources":["@wordpress/components/src/date-time/time/index.tsx"],"names":["startOfMinute","format","set","setHours","setMonth","useState","useMemo","useEffect","__","BaseControl","Button","ButtonGroup","TimeZone","Wrapper","Fieldset","HoursInput","TimeSeparator","MinutesInput","MonthSelectWrapper","MonthSelect","DayInput","YearInput","TimeWrapper","HStack","Spacer","COMMIT","PRESS_DOWN","PRESS_UP","inputToDate","TIMEZONELESS_FORMAT","from12hTo24h","hours","isPm","buildPadInputStateReducer","pad","state","action","nextState","type","value","undefined","toString","padStart","TimePicker","is12Hour","currentTime","onChange","date","setDate","Date","day","month","year","minutes","am","buildNumberControlChangeCallback","method","callback","event","target","HTMLInputElement","validity","valid","numberValue","Number","newDate","buildAmPmChangeCallback","parsedHours","parseInt","dayField","monthField","label"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,aAAT,EAAwBC,MAAxB,EAAgCC,GAAhC,EAAqCC,QAArC,EAA+CC,QAA/C,QAA+D,UAA/D;AAEA;AACA;AACA;;AACA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,SAA5B,QAA6C,oBAA7C;AACA,SAASC,EAAT,QAAmB,iBAAnB;AAEA;AACA;AACA;;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,QAAP,MAAqB,YAArB;AAEA,SACCC,OADD,EAECC,QAFD,EAGCC,UAHD,EAICC,aAJD,EAKCC,YALD,EAMCC,kBAND,EAOCC,WAPD,EAQCC,QARD,EASCC,SATD,EAUCC,WAVD,QAWO,UAXP;AAYA,SAASC,MAAT,QAAuB,eAAvB;AACA,SAASC,MAAT,QAAuB,cAAvB;AAGA,SACCC,MADD,EAGCC,UAHD,EAICC,QAJD,QAKO,qCALP;AAMA,SAASC,WAAT,QAA4B,UAA5B;AACA,SAASC,mBAAT,QAAoC,cAApC;;AAEA,SAASC,YAAT,CAAuBC,KAAvB,EAAsCC,IAAtC,EAAsD;AACrD,SAAOA,IAAI,GAAG,CAAID,KAAK,GAAG,EAAV,GAAiB,EAAnB,IAA0B,EAA7B,GAAkCA,KAAK,GAAG,EAArD;AACA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASE,yBAAT,CAAoCC,GAApC,EAAkD;AACjD,SAAO,CAAEC,KAAF,EAAqBC,MAArB,KAA8C;AACpD,UAAMC,SAAS,GAAG,EAAE,GAAGF;AAAL,KAAlB;;AACA,QACCC,MAAM,CAACE,IAAP,KAAgBb,MAAhB,IACAW,MAAM,CAACE,IAAP,KAAgBX,QADhB,IAEAS,MAAM,CAACE,IAAP,KAAgBZ,UAHjB,EAIE;AACD,UAAKW,SAAS,CAACE,KAAV,KAAoBC,SAAzB,EAAqC;AACpCH,QAAAA,SAAS,CAACE,KAAV,GAAkBF,SAAS,CAACE,KAAV,CAChBE,QADgB,GAEhBC,QAFgB,CAENR,GAFM,EAED,GAFC,CAAlB;AAGA;AACD;;AACD,WAAOG,SAAP;AACA,GAdD;AAeA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAO,SAASM,UAAT,OAIc;AAAA,MAJO;AAC3BC,IAAAA,QAD2B;AAE3BC,IAAAA,WAF2B;AAG3BC,IAAAA;AAH2B,GAIP;AACpB,QAAM,CAAEC,IAAF,EAAQC,OAAR,IAAoB3C,QAAQ,CAAE,MACnC;AACAwC,EAAAA,WAAW,GAAG7C,aAAa,CAAE4B,WAAW,CAAEiB,WAAF,CAAb,CAAhB,GAAiD,IAAII,IAAJ,EAF3B,CAAlC,CADoB,CAMpB;AACA;;AACA1C,EAAAA,SAAS,CAAE,MAAM;AAChByC,IAAAA,OAAO,CACNH,WAAW,GACR7C,aAAa,CAAE4B,WAAW,CAAEiB,WAAF,CAAb,CADL,GAER,IAAII,IAAJ,EAHG,CAAP;AAKA,GANQ,EAMN,CAAEJ,WAAF,CANM,CAAT;AAQA,QAAM;AAAEK,IAAAA,GAAF;AAAOC,IAAAA,KAAP;AAAcC,IAAAA,IAAd;AAAoBC,IAAAA,OAApB;AAA6BtB,IAAAA,KAA7B;AAAoCuB,IAAAA;AAApC,MAA2ChD,OAAO,CACvD,OAAQ;AACP4C,IAAAA,GAAG,EAAEjD,MAAM,CAAE8C,IAAF,EAAQ,IAAR,CADJ;AAEPI,IAAAA,KAAK,EAAElD,MAAM,CAAE8C,IAAF,EAAQ,IAAR,CAFN;AAGPK,IAAAA,IAAI,EAAEnD,MAAM,CAAE8C,IAAF,EAAQ,MAAR,CAHL;AAIPM,IAAAA,OAAO,EAAEpD,MAAM,CAAE8C,IAAF,EAAQ,IAAR,CAJR;AAKPhB,IAAAA,KAAK,EAAE9B,MAAM,CAAE8C,IAAF,EAAQH,QAAQ,GAAG,IAAH,GAAU,IAA1B,CALN;AAMPU,IAAAA,EAAE,EAAErD,MAAM,CAAE8C,IAAF,EAAQ,GAAR;AANH,GAAR,CADuD,EASvD,CAAEA,IAAF,EAAQH,QAAR,CATuD,CAAxD;;AAYA,QAAMW,gCAAgC,GACrCC,MADwC,IAEpC;AACJ,UAAMC,QAA6B,GAAG,CAAElB,KAAF,YAAwB;AAAA,UAAf;AAAEmB,QAAAA;AAAF,OAAe;;AAC7D,UAAK,EAAIA,KAAK,CAACC,MAAN,YAAwBC,gBAA5B,CAAL,EAAsD;AACrD;AACA;;AAED,UAAK,CAAEF,KAAK,CAACC,MAAN,CAAaE,QAAb,CAAsBC,KAA7B,EAAqC;AACpC;AACA,OAP4D,CAS7D;;;AACA,UAAIC,WAAW,GAAGC,MAAM,CAAEzB,KAAF,CAAxB,CAV6D,CAY7D;AACA;AACA;;AACA,UAAKiB,MAAM,KAAK,OAAX,IAAsBZ,QAA3B,EAAsC;AACrCmB,QAAAA,WAAW,GAAGjC,YAAY,CAAEiC,WAAF,EAAeT,EAAE,KAAK,IAAtB,CAA1B;AACA;;AAED,YAAMW,OAAO,GAAG/D,GAAG,CAAE6C,IAAF,EAAQ;AAAE,SAAES,MAAF,GAAYO;AAAd,OAAR,CAAnB;AACAf,MAAAA,OAAO,CAAEiB,OAAF,CAAP;AACAnB,MAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAI7C,MAAM,CAAEgE,OAAF,EAAWpC,mBAAX,CAAV,CAAR;AACA,KAtBD;;AAuBA,WAAO4B,QAAP;AACA,GA3BD;;AA6BA,WAASS,uBAAT,CAAkC3B,KAAlC,EAAuD;AACtD,WAAO,MAAM;AACZ,UAAKe,EAAE,KAAKf,KAAZ,EAAoB;AACnB;AACA;;AAED,YAAM4B,WAAW,GAAGC,QAAQ,CAAErC,KAAF,EAAS,EAAT,CAA5B;AAEA,YAAMkC,OAAO,GAAG9D,QAAQ,CACvB4C,IADuB,EAEvBjB,YAAY,CAAEqC,WAAF,EAAe5B,KAAK,KAAK,IAAzB,CAFW,CAAxB;AAIAS,MAAAA,OAAO,CAAEiB,OAAF,CAAP;AACAnB,MAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAI7C,MAAM,CAAEgE,OAAF,EAAWpC,mBAAX,CAAV,CAAR;AACA,KAbD;AAcA;;AAED,QAAMwC,QAAQ,GACb,cAAC,QAAD;AACC,IAAA,SAAS,EAAC,qEADX,CACiF;AADjF;AAEC,IAAA,KAAK,EAAG7D,EAAE,CAAE,KAAF,CAFX;AAGC,IAAA,mBAAmB,MAHpB;AAIC,IAAA,qBAAqB,MAJtB;AAKC,IAAA,KAAK,EAAG0C,GALT;AAMC,IAAA,IAAI,EAAG,CANR;AAOC,IAAA,GAAG,EAAG,CAPP;AAQC,IAAA,GAAG,EAAG,EARP;AASC,IAAA,QAAQ,MATT;AAUC,IAAA,YAAY,EAAC,MAVd;AAWC,IAAA,oBAAoB,MAXrB;AAYC,IAAA,aAAa,EAAG,KAZjB;AAaC,IAAA,kBAAkB,EAAG,KAbtB;AAcC,IAAA,QAAQ,EAAGK,gCAAgC,CAAE,MAAF;AAd5C,IADD;AAmBA,QAAMe,UAAU,GACf,cAAC,kBAAD,QACC,cAAC,WAAD;AACC,IAAA,SAAS,EAAC,uEADX,CACmF;AADnF;AAEC,IAAA,KAAK,EAAG9D,EAAE,CAAE,OAAF,CAFX;AAGC,IAAA,mBAAmB,MAHpB;AAIC,IAAA,uBAAuB,MAJxB;AAKC,IAAA,KAAK,EAAG2C,KALT;AAMC,IAAA,OAAO,EAAG,CACT;AAAEZ,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,SAAF;AAAxB,KADS,EAET;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,UAAF;AAAxB,KAFS,EAGT;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,OAAF;AAAxB,KAHS,EAIT;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,OAAF;AAAxB,KAJS,EAKT;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,KAAF;AAAxB,KALS,EAMT;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,MAAF;AAAxB,KANS,EAOT;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,MAAF;AAAxB,KAPS,EAQT;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,QAAF;AAAxB,KARS,EAST;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,WAAF;AAAxB,KATS,EAUT;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,SAAF;AAAxB,KAVS,EAWT;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,UAAF;AAAxB,KAXS,EAYT;AAAE+B,MAAAA,KAAK,EAAE,IAAT;AAAegC,MAAAA,KAAK,EAAE/D,EAAE,CAAE,UAAF;AAAxB,KAZS,CANX;AAoBC,IAAA,QAAQ,EAAK+B,KAAF,IAAa;AACvB,YAAM0B,OAAO,GAAG7D,QAAQ,CAAE2C,IAAF,EAAQiB,MAAM,CAAEzB,KAAF,CAAN,GAAkB,CAA1B,CAAxB;AACAS,MAAAA,OAAO,CAAEiB,OAAF,CAAP;AACAnB,MAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAI7C,MAAM,CAAEgE,OAAF,EAAWpC,mBAAX,CAAV,CAAR;AACA;AAxBF,IADD,CADD;AA+BA,SACC,cAAC,OAAD;AACC,IAAA,SAAS,EAAC,2BADX,CACuC;;AADvC,KAGC,cAAC,QAAD,QACC,cAAC,WAAD,CAAa,WAAb;AACC,IAAA,EAAE,EAAC,QADJ;AAEC,IAAA,SAAS,EAAC,kCAFX,CAE8C;;AAF9C,KAIGrB,EAAE,CAAE,MAAF,CAJL,CADD,EAOC,cAAC,MAAD;AACC,IAAA,SAAS,EAAC,mCADX,CAC+C;;AAD/C,KAGC,cAAC,WAAD;AACC,IAAA,SAAS,EAAC,sEADX,CACkF;;AADlF,KAGC,cAAC,UAAD;AACC,IAAA,SAAS,EAAC,6CADX,CACyD;AADzD;AAEC,IAAA,KAAK,EAAGA,EAAE,CAAE,OAAF,CAFX;AAGC,IAAA,mBAAmB,MAHpB;AAIC,IAAA,qBAAqB,MAJtB;AAKC,IAAA,KAAK,EAAGuB,KALT;AAMC,IAAA,IAAI,EAAG,CANR;AAOC,IAAA,GAAG,EAAGa,QAAQ,GAAG,CAAH,GAAO,CAPtB;AAQC,IAAA,GAAG,EAAGA,QAAQ,GAAG,EAAH,GAAQ,EARvB;AASC,IAAA,QAAQ,MATT;AAUC,IAAA,YAAY,EAAC,MAVd;AAWC,IAAA,oBAAoB,MAXrB;AAYC,IAAA,aAAa,EAAG,KAZjB;AAaC,IAAA,kBAAkB,EAAG,KAbtB;AAcC,IAAA,QAAQ,EAAGW,gCAAgC,CAC1C,OAD0C,CAd5C;AAiBC,IAAA,sBAAsB,EAAGtB,yBAAyB,CACjD,CADiD;AAjBnD,IAHD,EAwBC,cAAC,aAAD;AACC,IAAA,SAAS,EAAC,qCADX,CACiD;AADjD;AAEC,mBAAY;AAFb,SAxBD,EA8BC,cAAC,YAAD;AACC,IAAA,SAAS,EAAC,+CADX,CAC2D;AAD3D;AAEC,IAAA,KAAK,EAAGzB,EAAE,CAAE,SAAF,CAFX;AAGC,IAAA,mBAAmB,MAHpB;AAIC,IAAA,qBAAqB,MAJtB;AAKC,IAAA,KAAK,EAAG6C,OALT;AAMC,IAAA,IAAI,EAAG,CANR;AAOC,IAAA,GAAG,EAAG,CAPP;AAQC,IAAA,GAAG,EAAG,EARP;AASC,IAAA,QAAQ,MATT;AAUC,IAAA,YAAY,EAAC,MAVd;AAWC,IAAA,oBAAoB,MAXrB;AAYC,IAAA,aAAa,EAAG,KAZjB;AAaC,IAAA,kBAAkB,EAAG,KAbtB;AAcC,IAAA,QAAQ,EAAGE,gCAAgC,CAC1C,SAD0C,CAd5C;AAiBC,IAAA,sBAAsB,EAAGtB,yBAAyB,CACjD,CADiD;AAjBnD,IA9BD,CAHD,EAuDGW,QAAQ,IACT,cAAC,WAAD;AACC,IAAA,SAAS,EAAC,uEADX,CACmF;;AADnF,KAGC,cAAC,MAAD;AACC,IAAA,SAAS,EAAC,qCADX,CACiD;AADjD;AAEC,IAAA,OAAO,EACNU,EAAE,KAAK,IAAP,GAAc,SAAd,GAA0B,WAH5B;AAKC,IAAA,OAAO,EAAGY,uBAAuB,CAAE,IAAF;AALlC,KAOG1D,EAAE,CAAE,IAAF,CAPL,CAHD,EAYC,cAAC,MAAD;AACC,IAAA,SAAS,EAAC,qCADX,CACiD;AADjD;AAEC,IAAA,OAAO,EACN8C,EAAE,KAAK,IAAP,GAAc,SAAd,GAA0B,WAH5B;AAKC,IAAA,OAAO,EAAGY,uBAAuB,CAAE,IAAF;AALlC,KAOG1D,EAAE,CAAE,IAAF,CAPL,CAZD,CAxDF,EA+EC,cAAC,MAAD,OA/ED,EAgFC,cAAC,QAAD,OAhFD,CAPD,CAHD,EA6FC,cAAC,QAAD,QACC,cAAC,WAAD,CAAa,WAAb;AACC,IAAA,EAAE,EAAC,QADJ;AAEC,IAAA,SAAS,EAAC,kCAFX,CAE8C;;AAF9C,KAIGA,EAAE,CAAE,MAAF,CAJL,CADD,EAOC,cAAC,MAAD;AACC,IAAA,SAAS,EAAC,mCADX,CAC+C;;AAD/C,KAGGoC,QAAQ,GACT,8BACG0B,UADH,EAEGD,QAFH,CADS,GAMT,8BACGA,QADH,EAEGC,UAFH,CATF,EAcC,cAAC,SAAD;AACC,IAAA,SAAS,EAAC,sEADX,CACkF;AADlF;AAEC,IAAA,KAAK,EAAG9D,EAAE,CAAE,MAAF,CAFX;AAGC,IAAA,mBAAmB,MAHpB;AAIC,IAAA,qBAAqB,MAJtB;AAKC,IAAA,KAAK,EAAG4C,IALT;AAMC,IAAA,IAAI,EAAG,CANR;AAOC,IAAA,GAAG,EAAG,CAPP;AAQC,IAAA,GAAG,EAAG,IARP;AASC,IAAA,QAAQ,MATT;AAUC,IAAA,YAAY,EAAC,MAVd;AAWC,IAAA,oBAAoB,MAXrB;AAYC,IAAA,aAAa,EAAG,KAZjB;AAaC,IAAA,kBAAkB,EAAG,KAbtB;AAcC,IAAA,QAAQ,EAAGG,gCAAgC,CAAE,MAAF,CAd5C;AAeC,IAAA,sBAAsB,EAAGtB,yBAAyB,CACjD,CADiD;AAfnD,IAdD,CAPD,CA7FD,CADD;AA0IA;AAED,eAAeU,UAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { startOfMinute, format, set, setHours, setMonth } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useMemo, useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BaseControl from '../../base-control';\nimport Button from '../../button';\nimport ButtonGroup from '../../button-group';\nimport TimeZone from './timezone';\nimport type { TimePickerProps } from '../types';\nimport {\n\tWrapper,\n\tFieldset,\n\tHoursInput,\n\tTimeSeparator,\n\tMinutesInput,\n\tMonthSelectWrapper,\n\tMonthSelect,\n\tDayInput,\n\tYearInput,\n\tTimeWrapper,\n} from './styles';\nimport { HStack } from '../../h-stack';\nimport { Spacer } from '../../spacer';\nimport type { InputChangeCallback } from '../../input-control/types';\nimport type { InputState } from '../../input-control/reducer/state';\nimport {\n\tCOMMIT,\n\tInputAction,\n\tPRESS_DOWN,\n\tPRESS_UP,\n} from '../../input-control/reducer/actions';\nimport { inputToDate } from '../utils';\nimport { TIMEZONELESS_FORMAT } from '../constants';\n\nfunction from12hTo24h( hours: number, isPm: boolean ) {\n\treturn isPm ? ( ( hours % 12 ) + 12 ) % 24 : hours % 12;\n}\n\n/**\n * Creates an InputControl reducer used to pad an input so that it is always a\n * given width. For example, the hours and minutes inputs are padded to 2 so\n * that '4' appears as '04'.\n *\n * @param pad How many digits the value should be.\n */\nfunction buildPadInputStateReducer( pad: number ) {\n\treturn ( state: InputState, action: InputAction ) => {\n\t\tconst nextState = { ...state };\n\t\tif (\n\t\t\taction.type === COMMIT ||\n\t\t\taction.type === PRESS_UP ||\n\t\t\taction.type === PRESS_DOWN\n\t\t) {\n\t\t\tif ( nextState.value !== undefined ) {\n\t\t\t\tnextState.value = nextState.value\n\t\t\t\t\t.toString()\n\t\t\t\t\t.padStart( pad, '0' );\n\t\t\t}\n\t\t}\n\t\treturn nextState;\n\t};\n}\n\n/**\n * TimePicker is a React component that renders a clock for time selection.\n *\n * ```jsx\n * import { TimePicker } from '@wordpress/components';\n * import { useState } from '@wordpress/element';\n *\n * const MyTimePicker = () => {\n *   const [ time, setTime ] = useState( new Date() );\n *\n *   return (\n *     <TimePicker\n *       currentTime={ date }\n *       onChange={ ( newTime ) => setTime( newTime ) }\n *       is12Hour\n *     />\n *   );\n * };\n * ```\n */\nexport function TimePicker( {\n\tis12Hour,\n\tcurrentTime,\n\tonChange,\n}: TimePickerProps ) {\n\tconst [ date, setDate ] = useState( () =>\n\t\t// Truncate the date at the minutes, see: #15495.\n\t\tcurrentTime ? startOfMinute( inputToDate( currentTime ) ) : new Date()\n\t);\n\n\t// Reset the state when currentTime changed.\n\t// TODO: useEffect() shouldn't be used like this, causes an unnecessary render\n\tuseEffect( () => {\n\t\tsetDate(\n\t\t\tcurrentTime\n\t\t\t\t? startOfMinute( inputToDate( currentTime ) )\n\t\t\t\t: new Date()\n\t\t);\n\t}, [ currentTime ] );\n\n\tconst { day, month, year, minutes, hours, am } = useMemo(\n\t\t() => ( {\n\t\t\tday: format( date, 'dd' ),\n\t\t\tmonth: format( date, 'MM' ),\n\t\t\tyear: format( date, 'yyyy' ),\n\t\t\tminutes: format( date, 'mm' ),\n\t\t\thours: format( date, is12Hour ? 'hh' : 'HH' ),\n\t\t\tam: format( date, 'a' ),\n\t\t} ),\n\t\t[ date, is12Hour ]\n\t);\n\n\tconst buildNumberControlChangeCallback = (\n\t\tmethod: 'hours' | 'minutes' | 'date' | 'year'\n\t) => {\n\t\tconst callback: InputChangeCallback = ( value, { event } ) => {\n\t\t\tif ( ! ( event.target instanceof HTMLInputElement ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! event.target.validity.valid ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// We can safely assume value is a number if target is valid.\n\t\t\tlet numberValue = Number( value );\n\n\t\t\t// If the 12-hour format is being used and the 'PM' period is\n\t\t\t// selected, then the incoming value (which ranges 1-12) should be\n\t\t\t// increased by 12 to match the expected 24-hour format.\n\t\t\tif ( method === 'hours' && is12Hour ) {\n\t\t\t\tnumberValue = from12hTo24h( numberValue, am === 'PM' );\n\t\t\t}\n\n\t\t\tconst newDate = set( date, { [ method ]: numberValue } );\n\t\t\tsetDate( newDate );\n\t\t\tonChange?.( format( newDate, TIMEZONELESS_FORMAT ) );\n\t\t};\n\t\treturn callback;\n\t};\n\n\tfunction buildAmPmChangeCallback( value: 'AM' | 'PM' ) {\n\t\treturn () => {\n\t\t\tif ( am === value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst parsedHours = parseInt( hours, 10 );\n\n\t\t\tconst newDate = setHours(\n\t\t\t\tdate,\n\t\t\t\tfrom12hTo24h( parsedHours, value === 'PM' )\n\t\t\t);\n\t\t\tsetDate( newDate );\n\t\t\tonChange?.( format( newDate, TIMEZONELESS_FORMAT ) );\n\t\t};\n\t}\n\n\tconst dayField = (\n\t\t<DayInput\n\t\t\tclassName=\"components-datetime__time-field components-datetime__time-field-day\" // Unused, for backwards compatibility.\n\t\t\tlabel={ __( 'Day' ) }\n\t\t\thideLabelFromVision\n\t\t\t__next36pxDefaultSize\n\t\t\tvalue={ day }\n\t\t\tstep={ 1 }\n\t\t\tmin={ 1 }\n\t\t\tmax={ 31 }\n\t\t\trequired\n\t\t\tspinControls=\"none\"\n\t\t\tisPressEnterToChange\n\t\t\tisDragEnabled={ false }\n\t\t\tisShiftStepEnabled={ false }\n\t\t\tonChange={ buildNumberControlChangeCallback( 'date' ) }\n\t\t/>\n\t);\n\n\tconst monthField = (\n\t\t<MonthSelectWrapper>\n\t\t\t<MonthSelect\n\t\t\t\tclassName=\"components-datetime__time-field components-datetime__time-field-month\" // Unused, for backwards compatibility.\n\t\t\t\tlabel={ __( 'Month' ) }\n\t\t\t\thideLabelFromVision\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tvalue={ month }\n\t\t\t\toptions={ [\n\t\t\t\t\t{ value: '01', label: __( 'January' ) },\n\t\t\t\t\t{ value: '02', label: __( 'February' ) },\n\t\t\t\t\t{ value: '03', label: __( 'March' ) },\n\t\t\t\t\t{ value: '04', label: __( 'April' ) },\n\t\t\t\t\t{ value: '05', label: __( 'May' ) },\n\t\t\t\t\t{ value: '06', label: __( 'June' ) },\n\t\t\t\t\t{ value: '07', label: __( 'July' ) },\n\t\t\t\t\t{ value: '08', label: __( 'August' ) },\n\t\t\t\t\t{ value: '09', label: __( 'September' ) },\n\t\t\t\t\t{ value: '10', label: __( 'October' ) },\n\t\t\t\t\t{ value: '11', label: __( 'November' ) },\n\t\t\t\t\t{ value: '12', label: __( 'December' ) },\n\t\t\t\t] }\n\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\tconst newDate = setMonth( date, Number( value ) - 1 );\n\t\t\t\t\tsetDate( newDate );\n\t\t\t\t\tonChange?.( format( newDate, TIMEZONELESS_FORMAT ) );\n\t\t\t\t} }\n\t\t\t/>\n\t\t</MonthSelectWrapper>\n\t);\n\n\treturn (\n\t\t<Wrapper\n\t\t\tclassName=\"components-datetime__time\" // Unused, for backwards compatibility.\n\t\t>\n\t\t\t<Fieldset>\n\t\t\t\t<BaseControl.VisualLabel\n\t\t\t\t\tas=\"legend\"\n\t\t\t\t\tclassName=\"components-datetime__time-legend\" // Unused, for backwards compatibility.\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Time' ) }\n\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t<HStack\n\t\t\t\t\tclassName=\"components-datetime__time-wrapper\" // Unused, for backwards compatibility.\n\t\t\t\t>\n\t\t\t\t\t<TimeWrapper\n\t\t\t\t\t\tclassName=\"components-datetime__time-field components-datetime__time-field-time\" // Unused, for backwards compatibility.\n\t\t\t\t\t>\n\t\t\t\t\t\t<HoursInput\n\t\t\t\t\t\t\tclassName=\"components-datetime__time-field-hours-input\" // Unused, for backwards compatibility.\n\t\t\t\t\t\t\tlabel={ __( 'Hours' ) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t__next36pxDefaultSize\n\t\t\t\t\t\t\tvalue={ hours }\n\t\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t\t\tmin={ is12Hour ? 1 : 0 }\n\t\t\t\t\t\t\tmax={ is12Hour ? 12 : 23 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tspinControls=\"none\"\n\t\t\t\t\t\t\tisPressEnterToChange\n\t\t\t\t\t\t\tisDragEnabled={ false }\n\t\t\t\t\t\t\tisShiftStepEnabled={ false }\n\t\t\t\t\t\t\tonChange={ buildNumberControlChangeCallback(\n\t\t\t\t\t\t\t\t'hours'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t__unstableStateReducer={ buildPadInputStateReducer(\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TimeSeparator\n\t\t\t\t\t\t\tclassName=\"components-datetime__time-separator\" // Unused, for backwards compatibility.\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t</TimeSeparator>\n\t\t\t\t\t\t<MinutesInput\n\t\t\t\t\t\t\tclassName=\"components-datetime__time-field-minutes-input\" // Unused, for backwards compatibility.\n\t\t\t\t\t\t\tlabel={ __( 'Minutes' ) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t__next36pxDefaultSize\n\t\t\t\t\t\t\tvalue={ minutes }\n\t\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\tmax={ 59 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tspinControls=\"none\"\n\t\t\t\t\t\t\tisPressEnterToChange\n\t\t\t\t\t\t\tisDragEnabled={ false }\n\t\t\t\t\t\t\tisShiftStepEnabled={ false }\n\t\t\t\t\t\t\tonChange={ buildNumberControlChangeCallback(\n\t\t\t\t\t\t\t\t'minutes'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t__unstableStateReducer={ buildPadInputStateReducer(\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TimeWrapper>\n\t\t\t\t\t{ is12Hour && (\n\t\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\t\tclassName=\"components-datetime__time-field components-datetime__time-field-am-pm\" // Unused, for backwards compatibility.\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"components-datetime__time-am-button\" // Unused, for backwards compatibility.\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tam === 'AM' ? 'primary' : 'secondary'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={ buildAmPmChangeCallback( 'AM' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'AM' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"components-datetime__time-pm-button\" // Unused, for backwards compatibility.\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tam === 'PM' ? 'primary' : 'secondary'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={ buildAmPmChangeCallback( 'PM' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'PM' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t<Spacer />\n\t\t\t\t\t<TimeZone />\n\t\t\t\t</HStack>\n\t\t\t</Fieldset>\n\t\t\t<Fieldset>\n\t\t\t\t<BaseControl.VisualLabel\n\t\t\t\t\tas=\"legend\"\n\t\t\t\t\tclassName=\"components-datetime__time-legend\" // Unused, for backwards compatibility.\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Date' ) }\n\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t<HStack\n\t\t\t\t\tclassName=\"components-datetime__time-wrapper\" // Unused, for backwards compatibility.\n\t\t\t\t>\n\t\t\t\t\t{ is12Hour ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ monthField }\n\t\t\t\t\t\t\t{ dayField }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ dayField }\n\t\t\t\t\t\t\t{ monthField }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t<YearInput\n\t\t\t\t\t\tclassName=\"components-datetime__time-field components-datetime__time-field-year\" // Unused, for backwards compatibility.\n\t\t\t\t\t\tlabel={ __( 'Year' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t__next36pxDefaultSize\n\t\t\t\t\t\tvalue={ year }\n\t\t\t\t\t\tstep={ 1 }\n\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\tmax={ 9999 }\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tspinControls=\"none\"\n\t\t\t\t\t\tisPressEnterToChange\n\t\t\t\t\t\tisDragEnabled={ false }\n\t\t\t\t\t\tisShiftStepEnabled={ false }\n\t\t\t\t\t\tonChange={ buildNumberControlChangeCallback( 'year' ) }\n\t\t\t\t\t\t__unstableStateReducer={ buildPadInputStateReducer(\n\t\t\t\t\t\t\t4\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t</Fieldset>\n\t\t</Wrapper>\n\t);\n}\n\nexport default TimePicker;\n"]}