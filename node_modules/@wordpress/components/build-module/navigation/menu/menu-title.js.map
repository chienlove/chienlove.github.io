{"version":3,"sources":["@wordpress/components/src/navigation/menu/menu-title.tsx"],"names":["useRef","useState","__","sprintf","Icon","search","searchIcon","getAnimateClassName","Button","MenuTitleSearch","GroupTitleUI","MenuTitleActionsUI","MenuTitleUI","useNavigationMenuContext","SEARCH_FOCUS_DELAY","NavigationMenuTitle","hasSearch","onSearch","title","titleAction","isSearching","setIsSearching","menu","searchButtonRef","onCloseSearch","setTimeout","current","focus","menuTitleId","searchButtonLabel","type","origin"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,oBAAjC;AACA,SAASC,EAAT,EAAaC,OAAb,QAA4B,iBAA5B;AACA,SAASC,IAAT,EAAeC,MAAM,IAAIC,UAAzB,QAA2C,kBAA3C;AAEA;AACA;AACA;;AACA,SAASC,mBAAT,QAAoC,eAApC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AACA,SACCC,YADD,EAECC,kBAFD,EAGCC,WAHD,QAIO,6BAJP;AAKA,SAASC,wBAAT,QAAyC,WAAzC;AACA,SAASC,kBAAT,QAAmC,cAAnC;AAIA,eAAe,SAASC,mBAAT,OAMe;AAAA,MANe;AAC5CC,IAAAA,SAD4C;AAE5CC,IAAAA,QAF4C;AAG5CZ,IAAAA,MAH4C;AAI5Ca,IAAAA,KAJ4C;AAK5CC,IAAAA;AAL4C,GAMf;AAC7B,QAAM,CAAEC,WAAF,EAAeC,cAAf,IAAkCpB,QAAQ,CAAE,KAAF,CAAhD;AACA,QAAM;AAAEqB,IAAAA;AAAF,MAAWT,wBAAwB,EAAzC;AACA,QAAMU,eAAe,GAAGvB,MAAM,CAAiB,IAAjB,CAA9B;;AAEA,MAAK,CAAEkB,KAAP,EAAe;AACd,WAAO,IAAP;AACA;;AAED,QAAMM,aAAa,GAAG,MAAM;AAC3BH,IAAAA,cAAc,CAAE,KAAF,CAAd,CAD2B,CAG3B;AACA;;AACAI,IAAAA,UAAU,CAAE,MAAM;AAAA;;AACjB,+BAAAF,eAAe,CAACG,OAAhB,gFAAyBC,KAAzB;AACA,KAFS,EAEPb,kBAFO,CAAV;AAGA,GARD;;AAUA,QAAMc,WAAW,GAAI,qCAAqCN,IAAM,EAAhE;AACA;;AACA,QAAMO,iBAAiB,GAAG1B,OAAO,CAAED,EAAE,CAAE,cAAF,CAAJ,EAAwBgB,KAAxB,CAAjC;AAEA,SACC,cAAC,WAAD;AAAa,IAAA,SAAS,EAAC;AAAvB,KACG,CAAEE,WAAF,IACD,cAAC,YAAD;AACC,IAAA,EAAE,EAAC,IADJ;AAEC,IAAA,SAAS,EAAC,2CAFX;AAGC,IAAA,KAAK,EAAG;AAHT,KAKC;AAAM,IAAA,EAAE,EAAGQ;AAAX,KAA2BV,KAA3B,CALD,EAOG,CAAEF,SAAS,IAAIG,WAAf,KACD,cAAC,kBAAD,QACGA,WADH,EAGGH,SAAS,IACV,cAAC,MAAD;AACC,IAAA,OAAO,MADR;AAEC,IAAA,OAAO,EAAC,UAFT;AAGC,IAAA,KAAK,EAAGa,iBAHT;AAIC,IAAA,OAAO,EAAG,MAAMR,cAAc,CAAE,IAAF,CAJ/B;AAKC,IAAA,GAAG,EAAGE;AALP,KAOC,cAAC,IAAD;AAAM,IAAA,IAAI,EAAGjB;AAAb,IAPD,CAJF,CARF,CAFF,EA6BGc,WAAW,IACZ;AACC,IAAA,SAAS,EAAGb,mBAAmB,CAAE;AAChCuB,MAAAA,IAAI,EAAE,UAD0B;AAEhCC,MAAAA,MAAM,EAAE;AAFwB,KAAF;AADhC,KAMC,cAAC,eAAD;AACC,IAAA,aAAa,EAAGP,aADjB;AAEC,IAAA,QAAQ,EAAGP,QAFZ;AAGC,IAAA,MAAM,EAAGZ,MAHV;AAIC,IAAA,KAAK,EAAGa;AAJT,IAND,CA9BF,CADD;AA+CA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useRef, useState } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Icon, search as searchIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getAnimateClassName } from '../../animate';\nimport Button from '../../button';\nimport MenuTitleSearch from './menu-title-search';\nimport {\n\tGroupTitleUI,\n\tMenuTitleActionsUI,\n\tMenuTitleUI,\n} from '../styles/navigation-styles';\nimport { useNavigationMenuContext } from './context';\nimport { SEARCH_FOCUS_DELAY } from '../constants';\n\nimport type { NavigationMenuTitleProps } from '../types';\n\nexport default function NavigationMenuTitle( {\n\thasSearch,\n\tonSearch,\n\tsearch,\n\ttitle,\n\ttitleAction,\n}: NavigationMenuTitleProps ) {\n\tconst [ isSearching, setIsSearching ] = useState( false );\n\tconst { menu } = useNavigationMenuContext();\n\tconst searchButtonRef = useRef< HTMLElement >( null );\n\n\tif ( ! title ) {\n\t\treturn null;\n\t}\n\n\tconst onCloseSearch = () => {\n\t\tsetIsSearching( false );\n\n\t\t// Wait for the slide-in animation to complete before focusing the search button.\n\t\t// eslint-disable-next-line @wordpress/react-no-unsafe-timeout\n\t\tsetTimeout( () => {\n\t\t\tsearchButtonRef.current?.focus();\n\t\t}, SEARCH_FOCUS_DELAY );\n\t};\n\n\tconst menuTitleId = `components-navigation__menu-title-${ menu }`;\n\t/* translators: search button label for menu search box. %s: menu title */\n\tconst searchButtonLabel = sprintf( __( 'Search in %s' ), title );\n\n\treturn (\n\t\t<MenuTitleUI className=\"components-navigation__menu-title\">\n\t\t\t{ ! isSearching && (\n\t\t\t\t<GroupTitleUI\n\t\t\t\t\tas=\"h2\"\n\t\t\t\t\tclassName=\"components-navigation__menu-title-heading\"\n\t\t\t\t\tlevel={ 3 }\n\t\t\t\t>\n\t\t\t\t\t<span id={ menuTitleId }>{ title }</span>\n\n\t\t\t\t\t{ ( hasSearch || titleAction ) && (\n\t\t\t\t\t\t<MenuTitleActionsUI>\n\t\t\t\t\t\t\t{ titleAction }\n\n\t\t\t\t\t\t\t{ hasSearch && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tlabel={ searchButtonLabel }\n\t\t\t\t\t\t\t\t\tonClick={ () => setIsSearching( true ) }\n\t\t\t\t\t\t\t\t\tref={ searchButtonRef }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon icon={ searchIcon } />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</MenuTitleActionsUI>\n\t\t\t\t\t) }\n\t\t\t\t</GroupTitleUI>\n\t\t\t) }\n\n\t\t\t{ isSearching && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ getAnimateClassName( {\n\t\t\t\t\t\ttype: 'slide-in',\n\t\t\t\t\t\torigin: 'left',\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<MenuTitleSearch\n\t\t\t\t\t\tonCloseSearch={ onCloseSearch }\n\t\t\t\t\t\tonSearch={ onSearch }\n\t\t\t\t\t\tsearch={ search }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</MenuTitleUI>\n\t);\n}\n"]}