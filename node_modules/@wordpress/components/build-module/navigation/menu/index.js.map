{"version":3,"sources":["@wordpress/components/src/navigation/menu/index.tsx"],"names":["classnames","useState","ROOT_MENU","NavigationMenuContext","useNavigationContext","useNavigationTreeMenu","NavigationBackButton","NavigationMenuTitle","NavigationSearchNoResultsFound","NavigableMenu","MenuUI","NavigationMenu","props","backButtonLabel","children","className","hasSearch","menu","onBackButtonClick","onSearch","setControlledSearch","parentMenu","search","controlledSearch","isSearchDebouncing","title","titleAction","uncontrolledSearch","setUncontrolledSearch","activeMenu","context","isControlledSearch","menuTitleId","classes"],"mappings":";;AAAA;AACA;AACA;AACA,OAAOA,UAAP,MAAuB,YAAvB;AAEA;AACA;AACA;;AACA,SAASC,QAAT,QAAyB,oBAAzB;AAEA;AACA;AACA;;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,qBAAT,QAAsC,WAAtC;AACA,SAASC,oBAAT,QAAqC,YAArC;AACA,SAASC,qBAAT,QAAsC,4BAAtC;AACA,OAAOC,oBAAP,MAAiC,gBAAjC;AACA,OAAOC,mBAAP,MAAgC,cAAhC;AACA,OAAOC,8BAAP,MAA2C,2BAA3C;AACA,SAASC,aAAT,QAA8B,2BAA9B;AACA,SAASC,MAAT,QAAuB,6BAAvB;AAIA,OAAO,SAASC,cAAT,CAAyBC,KAAzB,EAAsD;AAC5D,QAAM;AACLC,IAAAA,eADK;AAELC,IAAAA,QAFK;AAGLC,IAAAA,SAHK;AAILC,IAAAA,SAJK;AAKLC,IAAAA,IAAI,GAAGf,SALF;AAMLgB,IAAAA,iBANK;AAOLC,IAAAA,QAAQ,EAAEC,mBAPL;AAQLC,IAAAA,UARK;AASLC,IAAAA,MAAM,EAAEC,gBATH;AAULC,IAAAA,kBAVK;AAWLC,IAAAA,KAXK;AAYLC,IAAAA;AAZK,MAaFd,KAbJ;AAcA,QAAM,CAAEe,kBAAF,EAAsBC,qBAAtB,IAAgD3B,QAAQ,CAAE,EAAF,CAA9D;AACAI,EAAAA,qBAAqB,CAAEO,KAAF,CAArB;AACA,QAAM;AAAEiB,IAAAA;AAAF,MAAiBzB,oBAAoB,EAA3C;AAEA,QAAM0B,OAAO,GAAG;AACfb,IAAAA,IADe;AAEfK,IAAAA,MAAM,EAAEK;AAFO,GAAhB,CAnB4D,CAwB5D;;AACA,MAAKE,UAAU,KAAKZ,IAApB,EAA2B;AAC1B,WACC,cAAC,qBAAD,CAAuB,QAAvB;AAAgC,MAAA,KAAK,EAAGa;AAAxC,OACGhB,QADH,CADD;AAKA;;AAED,QAAMiB,kBAAkB,GAAG,CAAC,CAAEX,mBAA9B;AACA,QAAME,MAAM,GAAGS,kBAAkB,GAAGR,gBAAH,GAAsBI,kBAAvD;AACA,QAAMR,QAAQ,GAAGY,kBAAkB,GAChCX,mBADgC,GAEhCQ,qBAFH;AAIA,QAAMI,WAAW,GAAI,qCAAqCf,IAAM,EAAhE;AACA,QAAMgB,OAAO,GAAGjC,UAAU,CAAE,6BAAF,EAAiCe,SAAjC,CAA1B;AAEA,SACC,cAAC,qBAAD,CAAuB,QAAvB;AAAgC,IAAA,KAAK,EAAGe;AAAxC,KACC,cAAC,MAAD;AAAQ,IAAA,SAAS,EAAGG;AAApB,KACG,CAAEZ,UAAU,IAAIH,iBAAhB,KACD,cAAC,oBAAD;AACC,IAAA,eAAe,EAAGL,eADnB;AAEC,IAAA,UAAU,EAAGQ,UAFd;AAGC,IAAA,OAAO,EAAGH;AAHX,IAFF,EASGO,KAAK,IACN,cAAC,mBAAD;AACC,IAAA,SAAS,EAAGT,SADb;AAEC,IAAA,QAAQ,EAAGG,QAFZ;AAGC,IAAA,MAAM,EAAGG,MAHV;AAIC,IAAA,KAAK,EAAGG,KAJT;AAKC,IAAA,WAAW,EAAGC;AALf,IAVF,EAmBC,cAAC,aAAD,QACC;AAAI,uBAAkBM;AAAtB,KACGlB,QADH,EAEGQ,MAAM,IAAI,CAAEE,kBAAZ,IACD,cAAC,8BAAD;AAAgC,IAAA,MAAM,EAAGF;AAAzC,IAHF,CADD,CAnBD,CADD,CADD;AAgCA;AAED,eAAeX,cAAf","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ROOT_MENU } from '../constants';\nimport { NavigationMenuContext } from './context';\nimport { useNavigationContext } from '../context';\nimport { useNavigationTreeMenu } from './use-navigation-tree-menu';\nimport NavigationBackButton from '../back-button';\nimport NavigationMenuTitle from './menu-title';\nimport NavigationSearchNoResultsFound from './search-no-results-found';\nimport { NavigableMenu } from '../../navigable-container';\nimport { MenuUI } from '../styles/navigation-styles';\n\nimport type { NavigationMenuProps } from '../types';\n\nexport function NavigationMenu( props: NavigationMenuProps ) {\n\tconst {\n\t\tbackButtonLabel,\n\t\tchildren,\n\t\tclassName,\n\t\thasSearch,\n\t\tmenu = ROOT_MENU,\n\t\tonBackButtonClick,\n\t\tonSearch: setControlledSearch,\n\t\tparentMenu,\n\t\tsearch: controlledSearch,\n\t\tisSearchDebouncing,\n\t\ttitle,\n\t\ttitleAction,\n\t} = props;\n\tconst [ uncontrolledSearch, setUncontrolledSearch ] = useState( '' );\n\tuseNavigationTreeMenu( props );\n\tconst { activeMenu } = useNavigationContext();\n\n\tconst context = {\n\t\tmenu,\n\t\tsearch: uncontrolledSearch,\n\t};\n\n\t// Keep the children rendered to make sure invisible items are included in the navigation tree.\n\tif ( activeMenu !== menu ) {\n\t\treturn (\n\t\t\t<NavigationMenuContext.Provider value={ context }>\n\t\t\t\t{ children }\n\t\t\t</NavigationMenuContext.Provider>\n\t\t);\n\t}\n\n\tconst isControlledSearch = !! setControlledSearch;\n\tconst search = isControlledSearch ? controlledSearch : uncontrolledSearch;\n\tconst onSearch = isControlledSearch\n\t\t? setControlledSearch\n\t\t: setUncontrolledSearch;\n\n\tconst menuTitleId = `components-navigation__menu-title-${ menu }`;\n\tconst classes = classnames( 'components-navigation__menu', className );\n\n\treturn (\n\t\t<NavigationMenuContext.Provider value={ context }>\n\t\t\t<MenuUI className={ classes }>\n\t\t\t\t{ ( parentMenu || onBackButtonClick ) && (\n\t\t\t\t\t<NavigationBackButton\n\t\t\t\t\t\tbackButtonLabel={ backButtonLabel }\n\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\tonClick={ onBackButtonClick }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t{ title && (\n\t\t\t\t\t<NavigationMenuTitle\n\t\t\t\t\t\thasSearch={ hasSearch }\n\t\t\t\t\t\tonSearch={ onSearch }\n\t\t\t\t\t\tsearch={ search }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t\ttitleAction={ titleAction }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t<NavigableMenu>\n\t\t\t\t\t<ul aria-labelledby={ menuTitleId }>\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t{ search && ! isSearchDebouncing && (\n\t\t\t\t\t\t\t<NavigationSearchNoResultsFound search={ search } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</ul>\n\t\t\t\t</NavigableMenu>\n\t\t\t</MenuUI>\n\t\t</NavigationMenuContext.Provider>\n\t);\n}\n\nexport default NavigationMenu;\n"]}