{"version":3,"sources":["@wordpress/components/src/mobile/bottom-sheet/ripple.native.js"],"names":["ANDROID_VERSION_LOLLIPOP","ANDROID_VERSION_PIE","TouchableRipple","style","onPress","disabled","disabledProp","children","activeOpacity","getStylesFromColorScheme","borderless","touchableProps","isTouchableNativeSupported","Platform","OS","Version","rippleColor","rippleStyles","ripple","rippleDark","backgroundColor","useForeground","TouchableNativeFeedback","Ripple","overflow"],"mappings":";;;;;;;;;;;;;AAGA;;AAUA;;AAKA;;AAlBA;AACA;AACA;;AAQA;AACA;AACA;;AAGA;AACA;AACA;AAGA,MAAMA,wBAAwB,GAAG,EAAjC;AACA,MAAMC,mBAAmB,GAAG,EAA5B;;AAEA,MAAMC,eAAe,GAAG,QASjB;AAAA,MATmB;AACzBC,IAAAA,KADyB;AAEzBC,IAAAA,OAFyB;AAGzBC,IAAAA,QAAQ,EAAEC,YAHe;AAIzBC,IAAAA,QAJyB;AAKzBC,IAAAA,aALyB;AAMzBC,IAAAA,wBANyB;AAOzBC,IAAAA,UAAU,GAAG,KAPY;AAQzB,OAAGC;AARsB,GASnB;AACN,QAAMC,0BAA0B,GAC/BC,sBAASC,EAAT,KAAgB,SAAhB,IACAD,sBAASE,OAAT,IAAoBf,wBAFrB;AAIA,QAAMK,QAAQ,GAAGC,YAAY,IAAI,CAAEF,OAAnC;AACA,QAAMY,WAAW,GAAGP,wBAAwB,CAC3CQ,sBAAaC,MAD8B,EAE3CD,sBAAaE,UAF8B,CAAxB,CAGlBC,eAHF;;AAKA,MAAKR,0BAAL,EAAkC;AACjC;AACA;AACA,UAAMS,aAAa,GAClBR,sBAASC,EAAT,KAAgB,SAAhB,IACAD,sBAASE,OAAT,IAAoBd,mBADpB,IAEAS,UAHD;AAKA,WACC,4BAAC,oCAAD,6BACMC,cADN;AAEC,MAAA,OAAO,EAAGP,OAFX;AAGC,MAAA,QAAQ,EAAGC,QAHZ;AAIC,MAAA,aAAa,EAAGgB,aAJjB;AAKC,MAAA,UAAU,EAAGC,qCAAwBC,MAAxB,CACZP,WADY,EAEZN,UAFY;AALd,QAUC,4BAAC,iBAAD;AAAM,MAAA,KAAK,EAAG,CAAEA,UAAU,IAAIO,sBAAaO,QAA7B,EAAuCrB,KAAvC;AAAd,OACGI,QADH,CAVD,CADD;AAgBA;;AAED,SACC,4BAAC,6BAAD,6BACMI,cADN;AAEC,IAAA,OAAO,EAAGP,OAFX;AAGC,IAAA,QAAQ,EAAGC,QAHZ;AAIC,IAAA,aAAa,EAAGG,aAJjB;AAKC,IAAA,KAAK,EAAGL;AALT,MAOGI,QAPH,CADD;AAWA,CAzDD;;eA2De,uCAA0BL,eAA1B,C","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tPlatform,\n\tTouchableOpacity,\n\tTouchableNativeFeedback,\n\tView,\n} from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { withPreferredColorScheme } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport rippleStyles from './ripple.native.scss';\n\nconst ANDROID_VERSION_LOLLIPOP = 21;\nconst ANDROID_VERSION_PIE = 28;\n\nconst TouchableRipple = ( {\n\tstyle,\n\tonPress,\n\tdisabled: disabledProp,\n\tchildren,\n\tactiveOpacity,\n\tgetStylesFromColorScheme,\n\tborderless = false,\n\t...touchableProps\n} ) => {\n\tconst isTouchableNativeSupported =\n\t\tPlatform.OS === 'android' &&\n\t\tPlatform.Version >= ANDROID_VERSION_LOLLIPOP;\n\n\tconst disabled = disabledProp || ! onPress;\n\tconst rippleColor = getStylesFromColorScheme(\n\t\trippleStyles.ripple,\n\t\trippleStyles.rippleDark\n\t).backgroundColor;\n\n\tif ( isTouchableNativeSupported ) {\n\t\t// A workaround for ripple on Android P is to use useForeground + overflow: 'hidden'\n\t\t// https://github.com/facebook/react-native/issues/6480\n\t\tconst useForeground =\n\t\t\tPlatform.OS === 'android' &&\n\t\t\tPlatform.Version >= ANDROID_VERSION_PIE &&\n\t\t\tborderless;\n\n\t\treturn (\n\t\t\t<TouchableNativeFeedback\n\t\t\t\t{ ...touchableProps }\n\t\t\t\tonPress={ onPress }\n\t\t\t\tdisabled={ disabled }\n\t\t\t\tuseForeground={ useForeground }\n\t\t\t\tbackground={ TouchableNativeFeedback.Ripple(\n\t\t\t\t\trippleColor,\n\t\t\t\t\tborderless\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<View style={ [ borderless && rippleStyles.overflow, style ] }>\n\t\t\t\t\t{ children }\n\t\t\t\t</View>\n\t\t\t</TouchableNativeFeedback>\n\t\t);\n\t}\n\n\treturn (\n\t\t<TouchableOpacity\n\t\t\t{ ...touchableProps }\n\t\t\tonPress={ onPress }\n\t\t\tdisabled={ disabled }\n\t\t\tactiveOpacity={ activeOpacity }\n\t\t\tstyle={ style }\n\t\t>\n\t\t\t{ children }\n\t\t</TouchableOpacity>\n\t);\n};\n\nexport default withPreferredColorScheme( TouchableRipple );\n"]}