{"version":3,"sources":["@wordpress/components/src/navigation/item/use-navigation-tree-item.tsx"],"names":["useNavigationTreeItem","itemId","props","activeMenu","navigationTree","addItem","removeItem","group","menu","search","isMenuActive","isItemVisible","title","undefined","_isVisible"],"mappings":";;;;;;;AAGA;;AAKA;;AACA;;AACA;;AACA;;AAXA;AACA;AACA;;AAGA;AACA;AACA;AAQO,MAAMA,qBAAqB,GAAG,CACpCC,MADoC,EAEpCC,KAFoC,KAGhC;AACJ,QAAM;AACLC,IAAAA,UADK;AAELC,IAAAA,cAAc,EAAE;AAAEC,MAAAA,OAAF;AAAWC,MAAAA;AAAX;AAFX,MAGF,oCAHJ;AAIA,QAAM;AAAEC,IAAAA;AAAF,MAAY,0CAAlB;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAmB,yCAAzB;AAEA,0BAAW,MAAM;AAChB,UAAMC,YAAY,GAAGP,UAAU,KAAKK,IAApC;AACA,UAAMG,aAAa,GAClB,CAAEF,MAAF,IACEP,KAAK,CAACU,KAAN,KAAgBC,SAAhB,IACD,6BAAkBX,KAAK,CAACU,KAAxB,EAA+BH,MAA/B,CAHF;AAKAJ,IAAAA,OAAO,CAAEJ,MAAF,EAAU,EAChB,GAAGC,KADa;AAEhBK,MAAAA,KAFgB;AAGhBC,MAAAA,IAHgB;AAIhBM,MAAAA,UAAU,EAAEJ,YAAY,IAAIC;AAJZ,KAAV,CAAP;AAOA,WAAO,MAAM;AACZL,MAAAA,UAAU,CAAEL,MAAF,CAAV;AACA,KAFD,CAdgB,CAiBhB;AACA;AACA,GAnBD,EAmBG,CAAEE,UAAF,EAAcM,MAAd,CAnBH;AAoBA,CA/BM","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useNavigationContext } from '../context';\nimport { useNavigationGroupContext } from '../group/context';\nimport { useNavigationMenuContext } from '../menu/context';\nimport { normalizedSearch } from '../utils';\n\nimport type { NavigationItemProps } from '../types';\n\nexport const useNavigationTreeItem = (\n\titemId: string,\n\tprops: NavigationItemProps\n) => {\n\tconst {\n\t\tactiveMenu,\n\t\tnavigationTree: { addItem, removeItem },\n\t} = useNavigationContext();\n\tconst { group } = useNavigationGroupContext();\n\tconst { menu, search } = useNavigationMenuContext();\n\n\tuseEffect( () => {\n\t\tconst isMenuActive = activeMenu === menu;\n\t\tconst isItemVisible =\n\t\t\t! search ||\n\t\t\t( props.title !== undefined &&\n\t\t\t\tnormalizedSearch( props.title, search ) );\n\n\t\taddItem( itemId, {\n\t\t\t...props,\n\t\t\tgroup,\n\t\t\tmenu,\n\t\t\t_isVisible: isMenuActive && isItemVisible,\n\t\t} );\n\n\t\treturn () => {\n\t\t\tremoveItem( itemId );\n\t\t};\n\t\t// Ignore exhaustive-deps rule for now. See https://github.com/WordPress/gutenberg/pull/41639\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [ activeMenu, search ] );\n};\n"]}